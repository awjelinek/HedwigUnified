{
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.httpServer = undefined;\n\nvar _http = require(\"http\");\n\nvar _http2 = _interopRequireDefault(_http);\n\nvar _ws = require(\"ws\");\n\nvar _ws2 = _interopRequireDefault(_ws);\n\nvar _pubsub = require(\"./pubsub\");\n\nvar _config = require(\"./config\");\n\nvar _schema = require(\"./schema\");\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// For subscriptions\n// Import hidden values from .env\n// Apollo Imports\nconst createError = require(\"http-errors\");\n\nconst express = require(\"express\");\n\nconst {\n  ApolloServer\n} = require(\"apollo-server-express\"); // var path = require('path');\n// var cookieParser = require('cookie-parser');\n\n\nconst exjwt = require(\"express-jwt\");\n\nconst cors = require(\"cors\"); // Ensure that dotenv loads\n\n\nrequire(\"dotenv\").config();\n/**\n * Import a custom route (non-GraphQL) like so:\n */\n// var customRouter = require('./routes/custom');\n\n/**\n * Setup Apollo\n * @param schema: The schema containing the type definitions & resolvers\n * @param context: This is used to pass the decoded JWT object (passed in the header) to the GraphQL functions\n */\n\n\nconst server = new ApolloServer({\n  schema: _schema2.default,\n  context: async ({\n    req,\n    connection\n  }) => {\n    // We will NOT have a req when using subscriptions / sockets, so we can't always expect it to be here!\n    if (req) {\n      // Gets the decoded jwt object which our exjwt (below) creates for us as req.user\n      // Inspiration from: https://www.apollographql.com/blog/setting-up-authentication-and-authorization-with-apollo-federation\n      const decodedJWT = req.user || null; // const user = await getUserFromToken(token);\n\n      return {\n        decodedJWT\n      };\n    }\n  }\n}); // Initiate express\n\nconst app = express(); // Apply cors for dev purposes\n\napp.use(cors({// Set CORS options here\n  // origin: \"*\"\n})); // Add JWT so that it is AVAILABLE; does NOT protect all routes (nor do we want it to)\n// Inspiration from: https://www.apollographql.com/blog/setting-up-authentication-and-authorization-with-apollo-federation\n\nconsole.log(\"Secret below:\");\nconsole.log(_config.SECRET);\napp.use(exjwt({\n  secret: process.env.SECRET || _config.SECRET,\n  credentialsRequired: false\n})); // This connects apollo with express\n\nserver.applyMiddleware({\n  app\n}); // Create WebSockets server for subscriptions: https://stackoverflow.com/questions/59254814/apollo-server-express-subscriptions-error\n\nconst httpServer = exports.httpServer = _http2.default.createServer(app);\n\nserver.installSubscriptionHandlers(httpServer); // If we have custom routes, we need these to accept JSON input\n// app.use(express.json());\n// app.use(express.urlencoded({ extended: false }));\n// app.use(cookieParser());\n// This creates a route to our custom controller OUTSIDE of GraphQL\n// app.use('/api/custom', customRouter);\n// catch 404 and forward to error handler\n\napp.use(function (req, res, next) {\n  next(createError(404));\n}); // Error handler\n\napp.use(function (err, req, res, next) {\n  if (err.name === \"UnauthorizedError\") {\n    // Send the error rather than to show it on the console\n    res.status(401).send(err);\n    return;\n  } // set locals, only providing error in development\n\n\n  res.locals.message = err.message;\n  res.locals.error = req.app.get(\"env\") === \"development\" ? err : {}; // render the error page\n\n  res.status(err.status || 500);\n  res.send(\"error\");\n}); // Need to call httpServer.listen instead of app.listen so that the WebSockets (subscriptions) server runs\n\nhttpServer.listen({\n  port: _config.PORT\n}, () => {\n  console.log(`ðŸš€ Server ready at http://localhost:${_config.PORT}${server.graphqlPath}`);\n  console.log(`ðŸš€ Subscriptions ready at ws://localhost:${_config.PORT}${server.subscriptionsPath}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNyZWF0ZUVycm9yIiwicmVxdWlyZSIsImV4cHJlc3MiLCJBcG9sbG9TZXJ2ZXIiLCJleGp3dCIsImNvcnMiLCJjb25maWciLCJzZXJ2ZXIiLCJzY2hlbWEiLCJTY2hlbWEiLCJjb250ZXh0IiwicmVxIiwiY29ubmVjdGlvbiIsImRlY29kZWRKV1QiLCJ1c2VyIiwiYXBwIiwidXNlIiwiY29uc29sZSIsImxvZyIsIlNFQ1JFVCIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJjcmVkZW50aWFsc1JlcXVpcmVkIiwiYXBwbHlNaWRkbGV3YXJlIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJpbnN0YWxsU3Vic2NyaXB0aW9uSGFuZGxlcnMiLCJyZXMiLCJuZXh0IiwiZXJyIiwibmFtZSIsInN0YXR1cyIsInNlbmQiLCJsb2NhbHMiLCJtZXNzYWdlIiwiZXJyb3IiLCJnZXQiLCJsaXN0ZW4iLCJwb3J0IiwiUE9SVCIsImdyYXBocWxQYXRoIiwic3Vic2NyaXB0aW9uc1BhdGgiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUdBOzs7O0FBQ0E7O0FBR0E7O0FBR0E7Ozs7OztBQVJBO0FBSUE7QUFHQTtBQUdBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRCxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNO0FBQUVFLEVBQUFBO0FBQUYsSUFBbUJGLE9BQU8sQ0FBQyx1QkFBRCxDQUFoQyxDLENBRUE7QUFDQTs7O0FBQ0EsTUFBTUcsS0FBSyxHQUFHSCxPQUFPLENBQUMsYUFBRCxDQUFyQjs7QUFDQSxNQUFNSSxJQUFJLEdBQUdKLE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FFQTs7O0FBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JLLE1BQWxCO0FBRUE7OztBQUdBOztBQUVBOzs7Ozs7O0FBS0EsTUFBTUMsTUFBTSxH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YXBpLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBodHRwIGZyb20gXCJodHRwXCI7XG5cbi8vIEZvciBzdWJzY3JpcHRpb25zXG5pbXBvcnQgd3MgZnJvbSBcIndzXCI7XG5pbXBvcnQgeyBwdWJzdWIgfSBmcm9tIFwiLi9wdWJzdWJcIjtcblxuLy8gSW1wb3J0IGhpZGRlbiB2YWx1ZXMgZnJvbSAuZW52XG5pbXBvcnQgeyBQT1JULCBTRUNSRVQgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuLy8gQXBvbGxvIEltcG9ydHNcbmltcG9ydCBTY2hlbWEgZnJvbSBcIi4vc2NoZW1hXCI7XG5cbmNvbnN0IGNyZWF0ZUVycm9yID0gcmVxdWlyZShcImh0dHAtZXJyb3JzXCIpO1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgeyBBcG9sbG9TZXJ2ZXIgfSA9IHJlcXVpcmUoXCJhcG9sbG8tc2VydmVyLWV4cHJlc3NcIik7XG5cbi8vIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuLy8gdmFyIGNvb2tpZVBhcnNlciA9IHJlcXVpcmUoJ2Nvb2tpZS1wYXJzZXInKTtcbmNvbnN0IGV4and0ID0gcmVxdWlyZShcImV4cHJlc3Mtand0XCIpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoXCJjb3JzXCIpO1xuXG4vLyBFbnN1cmUgdGhhdCBkb3RlbnYgbG9hZHNcbnJlcXVpcmUoXCJkb3RlbnZcIikuY29uZmlnKCk7XG5cbi8qKlxuICogSW1wb3J0IGEgY3VzdG9tIHJvdXRlIChub24tR3JhcGhRTCkgbGlrZSBzbzpcbiAqL1xuLy8gdmFyIGN1c3RvbVJvdXRlciA9IHJlcXVpcmUoJy4vcm91dGVzL2N1c3RvbScpO1xuXG4vKipcbiAqIFNldHVwIEFwb2xsb1xuICogQHBhcmFtIHNjaGVtYTogVGhlIHNjaGVtYSBjb250YWluaW5nIHRoZSB0eXBlIGRlZmluaXRpb25zICYgcmVzb2x2ZXJzXG4gKiBAcGFyYW0gY29udGV4dDogVGhpcyBpcyB1c2VkIHRvIHBhc3MgdGhlIGRlY29kZWQgSldUIG9iamVjdCAocGFzc2VkIGluIHRoZSBoZWFkZXIpIHRvIHRoZSBHcmFwaFFMIGZ1bmN0aW9uc1xuICovXG5jb25zdCBzZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHtcbiAgICBzY2hlbWE6IFNjaGVtYSxcbiAgICBjb250ZXh0OiBhc3luYyAoeyByZXEsIGNvbm5lY3Rpb24gfSkgPT4ge1xuICAgICAgICAvLyBXZSB3aWxsIE5PVCBoYXZlIGEgcmVxIHdoZW4gdXNpbmcgc3Vic2NyaXB0aW9ucyAvIHNvY2tldHMsIHNvIHdlIGNhbid0IGFsd2F5cyBleHBlY3QgaXQgdG8gYmUgaGVyZSFcbiAgICAgICAgaWYgKHJlcSkge1xuICAgICAgICAgICAgLy8gR2V0cyB0aGUgZGVjb2RlZCBqd3Qgb2JqZWN0IHdoaWNoIG91ciBleGp3dCAoYmVsb3cpIGNyZWF0ZXMgZm9yIHVzIGFzIHJlcS51c2VyXG4gICAgICAgICAgICAvLyBJbnNwaXJhdGlvbiBmcm9tOiBodHRwczovL3d3dy5hcG9sbG9ncmFwaHFsLmNvbS9ibG9nL3NldHRpbmctdXAtYXV0aGVudGljYXRpb24tYW5kLWF1dGhvcml6YXRpb24td2l0aC1hcG9sbG8tZmVkZXJhdGlvblxuICAgICAgICAgICAgY29uc3QgZGVjb2RlZEpXVCA9IHJlcS51c2VyIHx8IG51bGw7XG4gICAgICAgICAgICAvLyBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlckZyb21Ub2tlbih0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4geyBkZWNvZGVkSldUIH07XG4gICAgICAgIH1cbiAgICB9LFxufSk7XG5cbi8vIEluaXRpYXRlIGV4cHJlc3NcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gQXBwbHkgY29ycyBmb3IgZGV2IHB1cnBvc2VzXG5hcHAudXNlKFxuICAgIGNvcnMoe1xuICAgICAgICAvLyBTZXQgQ09SUyBvcHRpb25zIGhlcmVcbiAgICAgICAgLy8gb3JpZ2luOiBcIipcIlxuICAgIH0pLFxuKTtcblxuLy8gQWRkIEpXVCBzbyB0aGF0IGl0IGlzIEFWQUlMQUJMRTsgZG9lcyBOT1QgcHJvdGVjdCBhbGwgcm91dGVzIChub3IgZG8gd2Ugd2FudCBpdCB0bylcbi8vIEluc3BpcmF0aW9uIGZyb206IGh0dHBzOi8vd3d3LmFwb2xsb2dyYXBocWwuY29tL2Jsb2cvc2V0dGluZy11cC1hdXRoZW50aWNhdGlvbi1hbmQtYXV0aG9yaXphdGlvbi13aXRoLWFwb2xsby1mZWRlcmF0aW9uXG5jb25zb2xlLmxvZyhcIlNlY3JldCBiZWxvdzpcIik7XG5jb25zb2xlLmxvZyhTRUNSRVQpO1xuYXBwLnVzZShcbiAgICBleGp3dCh7XG4gICAgICAgIHNlY3JldDogcHJvY2Vzcy5lbnYuU0VDUkVUIHx8IFNFQ1JFVCxcbiAgICAgICAgY3JlZGVudGlhbHNSZXF1aXJlZDogZmFsc2UsXG4gICAgfSksXG4pO1xuXG4vLyBUaGlzIGNvbm5lY3RzIGFwb2xsbyB3aXRoIGV4cHJlc3NcbnNlcnZlci5hcHBseU1pZGRsZXdhcmUoeyBhcHAgfSk7XG5cbi8vIENyZWF0ZSBXZWJTb2NrZXRzIHNlcnZlciBmb3Igc3Vic2NyaXB0aW9uczogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTkyNTQ4MTQvYXBvbGxvLXNlcnZlci1leHByZXNzLXN1YnNjcmlwdGlvbnMtZXJyb3JcbmV4cG9ydCBjb25zdCBodHRwU2VydmVyID0gaHR0cC5jcmVhdGVTZXJ2ZXIoYXBwKTtcbnNlcnZlci5pbnN0YWxsU3Vic2NyaXB0aW9uSGFuZGxlcnMoaHR0cFNlcnZlcik7XG5cbi8vIElmIHdlIGhhdmUgY3VzdG9tIHJvdXRlcywgd2UgbmVlZCB0aGVzZSB0byBhY2NlcHQgSlNPTiBpbnB1dFxuLy8gYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4vLyBhcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG4vLyBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcblxuLy8gVGhpcyBjcmVhdGVzIGEgcm91dGUgdG8gb3VyIGN1c3RvbSBjb250cm9sbGVyIE9VVFNJREUgb2YgR3JhcGhRTFxuLy8gYXBwLnVzZSgnL2FwaS9jdXN0b20nLCBjdXN0b21Sb3V0ZXIpO1xuXG4vLyBjYXRjaCA0MDQgYW5kIGZvcndhcmQgdG8gZXJyb3IgaGFuZGxlclxuYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICBuZXh0KGNyZWF0ZUVycm9yKDQwNCkpO1xufSk7XG5cbi8vIEVycm9yIGhhbmRsZXJcbmFwcC51c2UoZnVuY3Rpb24gKGVyciwgcmVxLCByZXMsIG5leHQpIHtcbiAgICBpZiAoZXJyLm5hbWUgPT09IFwiVW5hdXRob3JpemVkRXJyb3JcIikge1xuICAgICAgICAvLyBTZW5kIHRoZSBlcnJvciByYXRoZXIgdGhhbiB0byBzaG93IGl0IG9uIHRoZSBjb25zb2xlXG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5zZW5kKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzZXQgbG9jYWxzLCBvbmx5IHByb3ZpZGluZyBlcnJvciBpbiBkZXZlbG9wbWVudFxuICAgIHJlcy5sb2NhbHMubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgIHJlcy5sb2NhbHMuZXJyb3IgPSByZXEuYXBwLmdldChcImVudlwiKSA9PT0gXCJkZXZlbG9wbWVudFwiID8gZXJyIDoge307XG5cbiAgICAvLyByZW5kZXIgdGhlIGVycm9yIHBhZ2VcbiAgICByZXMuc3RhdHVzKGVyci5zdGF0dXMgfHwgNTAwKTtcbiAgICByZXMuc2VuZChcImVycm9yXCIpO1xufSk7XG5cbi8vIE5lZWQgdG8gY2FsbCBodHRwU2VydmVyLmxpc3RlbiBpbnN0ZWFkIG9mIGFwcC5saXN0ZW4gc28gdGhhdCB0aGUgV2ViU29ja2V0cyAoc3Vic2NyaXB0aW9ucykgc2VydmVyIHJ1bnNcbmh0dHBTZXJ2ZXIubGlzdGVuKHsgcG9ydDogUE9SVCB9LCAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAgIGDwn5qAIFNlcnZlciByZWFkeSBhdCBodHRwOi8vbG9jYWxob3N0OiR7UE9SVH0ke3NlcnZlci5ncmFwaHFsUGF0aH1gLFxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICAgIGDwn5qAIFN1YnNjcmlwdGlvbnMgcmVhZHkgYXQgd3M6Ly9sb2NhbGhvc3Q6JHtQT1JUfSR7c2VydmVyLnN1YnNjcmlwdGlvbnNQYXRofWAsXG4gICAgKTtcbn0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "createError",
        "require",
        "express",
        "ApolloServer",
        "exjwt",
        "cors",
        "config",
        "server",
        "schema",
        "Schema",
        "context",
        "req",
        "connection",
        "decodedJWT",
        "user",
        "app",
        "use",
        "console",
        "log",
        "SECRET",
        "secret",
        "process",
        "env",
        "credentialsRequired",
        "applyMiddleware",
        "httpServer",
        "http",
        "createServer",
        "installSubscriptionHandlers",
        "res",
        "next",
        "err",
        "name",
        "status",
        "send",
        "locals",
        "message",
        "error",
        "get",
        "listen",
        "port",
        "PORT",
        "graphqlPath",
        "subscriptionsPath"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAGA;;;;AACA;;AAGA;;AAGA;;;;;;AARA;AAIA;AAGA;AAGA,MAAMA,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAM;AAAEE,EAAAA;AAAF,IAAmBF,OAAO,CAAC,uBAAD,CAAhC,C,CAEA;AACA;;;AACA,MAAMG,KAAK,GAAGH,OAAO,CAAC,aAAD,CAArB;;AACA,MAAMI,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAApB,C,CAEA;;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBK,MAAlB;AAEA;;;AAGA;;AAEA;;;;;;;AAKA,MAAMC,MAAM,GAAG,IAAIJ,YAAJ,CAAiB;AAC5BK,EAAAA,MAAM,EAAEC,gBADoB;AAE5BC,EAAAA,OAAO,EAAE,OAAO;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAAP,KAA+B;AACpC;AACA,QAAID,GAAJ,EAAS;AACL;AACA;AACA,YAAME,UAAU,GAAGF,GAAG,CAACG,IAAJ,IAAY,IAA/B,CAHK,CAIL;;AACA,aAAO;AAAED,QAAAA;AAAF,OAAP;AACH;AACJ;AAX2B,CAAjB,CAAf,C,CAcA;;AACA,MAAME,GAAG,GAAGb,OAAO,EAAnB,C,CAEA;;AACAa,GAAG,CAACC,GAAJ,CACIX,IAAI,CAAC,CACD;AACA;AAFC,CAAD,CADR,E,CAOA;AACA;;AACAY,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,OAAO,CAACC,GAAR,CAAYC,cAAZ;AACAJ,GAAG,CAACC,GAAJ,CACIZ,KAAK,CAAC;AACFgB,EAAAA,MAAM,EAAEC,OAAO,CAACC,GAAR,CAAYH,MAAZ,IAAsBA,cAD5B;AAEFI,EAAAA,mBAAmB,EAAE;AAFnB,CAAD,CADT,E,CAOA;;AACAhB,MAAM,CAACiB,eAAP,CAAuB;AAAET,EAAAA;AAAF,CAAvB,E,CAEA;;AACO,MAAMU,UAAU,WAAVA,UAAU,GAAGC,eAAKC,YAAL,CAAkBZ,GAAlB,CAAnB;;AACPR,MAAM,CAACqB,2BAAP,CAAmCH,UAAnC,E,CAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;;AACAV,GAAG,CAACC,GAAJ,CAAQ,UAAUL,GAAV,EAAekB,GAAf,EAAoBC,IAApB,EAA0B;AAC9BA,EAAAA,IAAI,CAAC9B,WAAW,CAAC,GAAD,CAAZ,CAAJ;AACH,CAFD,E,CAIA;;AACAe,GAAG,CAACC,GAAJ,CAAQ,UAAUe,GAAV,EAAepB,GAAf,EAAoBkB,GAApB,EAAyBC,IAAzB,EAA+B;AACnC,MAAIC,GAAG,CAACC,IAAJ,KAAa,mBAAjB,EAAsC;AAClC;AACAH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBH,GAArB;AACA;AACH,GALkC,CAOnC;;;AACAF,EAAAA,GAAG,CAACM,MAAJ,CAAWC,OAAX,GAAqBL,GAAG,CAACK,OAAzB;AACAP,EAAAA,GAAG,CAACM,MAAJ,CAAWE,KAAX,GAAmB1B,GAAG,CAACI,GAAJ,CAAQuB,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GAAuCP,GAAvC,GAA6C,EAAhE,CATmC,CAWnC;;AACAF,EAAAA,GAAG,CAACI,MAAJ,CAAWF,GAAG,CAACE,MAAJ,IAAc,GAAzB;AACAJ,EAAAA,GAAG,CAACK,IAAJ,CAAS,OAAT;AACH,CAdD,E,CAgBA;;AACAT,UAAU,CAACc,MAAX,CAAkB;AAAEC,EAAAA,IAAI,EAAEC;AAAR,CAAlB,EAAkC,MAAM;AACpCxB,EAAAA,OAAO,CAACC,GAAR,CACK,uCAAsCuB,YAAK,GAAElC,MAAM,CAACmC,WAAY,EADrE;AAGAzB,EAAAA,OAAO,CAACC,GAAR,CACK,4CAA2CuB,YAAK,GAAElC,MAAM,CAACoC,iBAAkB,EADhF;AAGH,CAPD",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "sourcesContent": [
        "import http from \"http\";\n\n// For subscriptions\nimport ws from \"ws\";\nimport { pubsub } from \"./pubsub\";\n\n// Import hidden values from .env\nimport { PORT, SECRET } from \"./config\";\n\n// Apollo Imports\nimport Schema from \"./schema\";\n\nconst createError = require(\"http-errors\");\nconst express = require(\"express\");\nconst { ApolloServer } = require(\"apollo-server-express\");\n\n// var path = require('path');\n// var cookieParser = require('cookie-parser');\nconst exjwt = require(\"express-jwt\");\nconst cors = require(\"cors\");\n\n// Ensure that dotenv loads\nrequire(\"dotenv\").config();\n\n/**\n * Import a custom route (non-GraphQL) like so:\n */\n// var customRouter = require('./routes/custom');\n\n/**\n * Setup Apollo\n * @param schema: The schema containing the type definitions & resolvers\n * @param context: This is used to pass the decoded JWT object (passed in the header) to the GraphQL functions\n */\nconst server = new ApolloServer({\n    schema: Schema,\n    context: async ({ req, connection }) => {\n        // We will NOT have a req when using subscriptions / sockets, so we can't always expect it to be here!\n        if (req) {\n            // Gets the decoded jwt object which our exjwt (below) creates for us as req.user\n            // Inspiration from: https://www.apollographql.com/blog/setting-up-authentication-and-authorization-with-apollo-federation\n            const decodedJWT = req.user || null;\n            // const user = await getUserFromToken(token);\n            return { decodedJWT };\n        }\n    },\n});\n\n// Initiate express\nconst app = express();\n\n// Apply cors for dev purposes\napp.use(\n    cors({\n        // Set CORS options here\n        // origin: \"*\"\n    }),\n);\n\n// Add JWT so that it is AVAILABLE; does NOT protect all routes (nor do we want it to)\n// Inspiration from: https://www.apollographql.com/blog/setting-up-authentication-and-authorization-with-apollo-federation\nconsole.log(\"Secret below:\");\nconsole.log(SECRET);\napp.use(\n    exjwt({\n        secret: process.env.SECRET || SECRET,\n        credentialsRequired: false,\n    }),\n);\n\n// This connects apollo with express\nserver.applyMiddleware({ app });\n\n// Create WebSockets server for subscriptions: https://stackoverflow.com/questions/59254814/apollo-server-express-subscriptions-error\nexport const httpServer = http.createServer(app);\nserver.installSubscriptionHandlers(httpServer);\n\n// If we have custom routes, we need these to accept JSON input\n// app.use(express.json());\n// app.use(express.urlencoded({ extended: false }));\n// app.use(cookieParser());\n\n// This creates a route to our custom controller OUTSIDE of GraphQL\n// app.use('/api/custom', customRouter);\n\n// catch 404 and forward to error handler\napp.use(function (req, res, next) {\n    next(createError(404));\n});\n\n// Error handler\napp.use(function (err, req, res, next) {\n    if (err.name === \"UnauthorizedError\") {\n        // Send the error rather than to show it on the console\n        res.status(401).send(err);\n        return;\n    }\n\n    // set locals, only providing error in development\n    res.locals.message = err.message;\n    res.locals.error = req.app.get(\"env\") === \"development\" ? err : {};\n\n    // render the error page\n    res.status(err.status || 500);\n    res.send(\"error\");\n});\n\n// Need to call httpServer.listen instead of app.listen so that the WebSockets (subscriptions) server runs\nhttpServer.listen({ port: PORT }, () => {\n    console.log(\n        `ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`,\n    );\n    console.log(\n        `ðŸš€ Subscriptions ready at ws://localhost:${PORT}${server.subscriptionsPath}`,\n    );\n});\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/pubsub.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/pubsub.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/pubsub.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/pubsub.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
        "sourceFileName": "pubsub.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst {\n  PubSub\n} = require(\"apollo-server\"); // Initialize PubSub: https://www.apollographql.com/docs/apollo-server/data/subscriptions/\n\n\nconst pubsub = exports.pubsub = new PubSub();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YnN1Yi5qcyJdLCJuYW1lcyI6WyJQdWJTdWIiLCJyZXF1aXJlIiwicHVic3ViIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNO0FBQUVBLEVBQUFBO0FBQUYsSUFBYUMsT0FBTyxDQUFDLGVBQUQsQ0FBMUIsQyxDQUVBOzs7QUFDTyxNQUFNQyxNQUFNLFdBQU5BLE1BQU0sR0FBRyxJQUFJRixNQUFKLEVBQWYiLCJzb3VyY2VSb290IjoiL1VzZXJzL3Zzb25nL0Rvd25sb2Fkcy9mdW4tY29kZS9IZWR3aWdVbmlmaWVkL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IFB1YlN1YiB9ID0gcmVxdWlyZShcImFwb2xsby1zZXJ2ZXJcIik7XG5cbi8vIEluaXRpYWxpemUgUHViU3ViOiBodHRwczovL3d3dy5hcG9sbG9ncmFwaHFsLmNvbS9kb2NzL2Fwb2xsby1zZXJ2ZXIvZGF0YS9zdWJzY3JpcHRpb25zL1xuZXhwb3J0IGNvbnN0IHB1YnN1YiA9IG5ldyBQdWJTdWIoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "pubsub.js"
      ],
      "names": [
        "PubSub",
        "require",
        "pubsub"
      ],
      "mappings": ";;;;;;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAaC,OAAO,CAAC,eAAD,CAA1B,C,CAEA;;;AACO,MAAMC,MAAM,WAANA,MAAM,GAAG,IAAIF,MAAJ,EAAf",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "sourcesContent": [
        "const { PubSub } = require(\"apollo-server\");\n\n// Initialize PubSub: https://www.apollographql.com/docs/apollo-server/data/subscriptions/\nexport const pubsub = new PubSub();\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/config.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n// Import all env vars from .env file\nrequire(\"dotenv\").config();\n\nconst {\n  MONGODB_CONNECTION_STRING\n} = process.env;\nexports.MONGODB_CONNECTION_STRING = MONGODB_CONNECTION_STRING;\nconst {\n  SERVICE_URL\n} = process.env;\nexports.SERVICE_URL = SERVICE_URL;\nconst {\n  SECRET\n} = process.env;\nexports.SECRET = SECRET;\nconst {\n  PORT\n} = process.env;\nexports.PORT = PORT;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiTU9OR09EQl9DT05ORUNUSU9OX1NUUklORyIsInByb2Nlc3MiLCJlbnYiLCJTRVJWSUNFX1VSTCIsIlNFQ1JFVCIsIlBPUlQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0FBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUVPLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFnQ0MsT0FBTyxDQUFDQyxHQUE5QztRQUFRRix5QixHQUFBQSx5QjtBQUNSLE1BQU07QUFBRUcsRUFBQUE7QUFBRixJQUFrQkYsT0FBTyxDQUFDQyxHQUFoQztRQUFRQyxXLEdBQUFBLFc7QUFDUixNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBYUgsT0FBTyxDQUFDQyxHQUEzQjtRQUFRRSxNLEdBQUFBLE07QUFDUixNQUFNO0FBQUVDLEVBQUFBO0FBQUYsSUFBV0osT0FBTyxDQUFDQyxHQUF6QjtRQUFRRyxJLEdBQUFBLEkiLCJzb3VyY2VSb290IjoiL1VzZXJzL3Zzb25nL0Rvd25sb2Fkcy9mdW4tY29kZS9IZWR3aWdVbmlmaWVkL2FwaS8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnQgYWxsIGVudiB2YXJzIGZyb20gLmVudiBmaWxlXG5yZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuXG5leHBvcnQgY29uc3QgeyBNT05HT0RCX0NPTk5FQ1RJT05fU1RSSU5HIH0gPSBwcm9jZXNzLmVudjtcbmV4cG9ydCBjb25zdCB7IFNFUlZJQ0VfVVJMIH0gPSBwcm9jZXNzLmVudjtcbmV4cG9ydCBjb25zdCB7IFNFQ1JFVCB9ID0gcHJvY2Vzcy5lbnY7XG5leHBvcnQgY29uc3QgeyBQT1JUIH0gPSBwcm9jZXNzLmVudjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "require",
        "config",
        "MONGODB_CONNECTION_STRING",
        "process",
        "env",
        "SERVICE_URL",
        "SECRET",
        "PORT"
      ],
      "mappings": ";;;;;;AAAA;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEO,MAAM;AAAEC,EAAAA;AAAF,IAAgCC,OAAO,CAACC,GAA9C;QAAQF,yB,GAAAA,yB;AACR,MAAM;AAAEG,EAAAA;AAAF,IAAkBF,OAAO,CAACC,GAAhC;QAAQC,W,GAAAA,W;AACR,MAAM;AAAEC,EAAAA;AAAF,IAAaH,OAAO,CAACC,GAA3B;QAAQE,M,GAAAA,M;AACR,MAAM;AAAEC,EAAAA;AAAF,IAAWJ,OAAO,CAACC,GAAzB;QAAQG,I,GAAAA,I",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "sourcesContent": [
        "// Import all env vars from .env file\nrequire(\"dotenv\").config();\n\nexport const { MONGODB_CONNECTION_STRING } = process.env;\nexport const { SERVICE_URL } = process.env;\nexport const { SECRET } = process.env;\nexport const { PORT } = process.env;\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _graphqlCompose = require(\"graphql-compose\");\n\nvar _UserSchema = require(\"./UserSchema\");\n\nvar _AuthSchema = require(\"./AuthSchema\");\n\nvar _LocationSchema = require(\"./LocationSchema\");\n\nvar _VendorSchema = require(\"./VendorSchema\");\n\n// import { ProductQuery, ProductMutation } from \"./ProductSchema\";\n// import { OrderQuery, OrderMutation } from \"./OrderSchema\";\nrequire(\"../db\");\n\nconst schemaComposer = new _graphqlCompose.SchemaComposer();\nschemaComposer.Query.addFields({ ..._UserSchema.UserQuery,\n  ..._AuthSchema.AuthQuery,\n  ..._LocationSchema.LocationQuery // ...ProductQuery,\n  // ...OrderQuery,\n  // ...VendorQuery,\n\n});\nschemaComposer.Mutation.addFields({ ..._UserSchema.UserMutation,\n  ..._AuthSchema.AuthMutation,\n  ..._LocationSchema.LocationMutation // ...ProductMutation,\n  // ...OrderMutation,\n  // ...VendorMutation,\n\n});\nschemaComposer.Subscription.addFields({ ..._VendorSchema.VendorSubscription\n});\nexports.default = schemaComposer.buildSchema();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJzY2hlbWFDb21wb3NlciIsIlNjaGVtYUNvbXBvc2VyIiwiUXVlcnkiLCJhZGRGaWVsZHMiLCJVc2VyUXVlcnkiLCJBdXRoUXVlcnkiLCJMb2NhdGlvblF1ZXJ5IiwiTXV0YXRpb24iLCJVc2VyTXV0YXRpb24iLCJBdXRoTXV0YXRpb24iLCJMb2NhdGlvbk11dGF0aW9uIiwiU3Vic2NyaXB0aW9uIiwiVmVuZG9yU3Vic2NyaXB0aW9uIiwiYnVpbGRTY2hlbWEiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUVBOztBQUNBOztBQUNBOztBQUdBOztBQUZBO0FBQ0E7QUFPQUEsT0FBTyxDQUFDLE9BQUQsQ0FBUDs7QUFFQSxNQUFNQyxjQUFjLEdBQUcsSUFBSUMsOEJBQUosRUFBdkI7QUFFQUQsY0FBYyxDQUFDRSxLQUFmLENBQXFCQyxTQUFyQixDQUErQixFQUMzQixHQUFHQyxxQkFEd0I7QUFFM0IsS0FBR0MscUJBRndCO0FBRzNCLEtBQUdDLDZCQUh3QixDQUkzQjtBQUNBO0FBQ0E7O0FBTjJCLENBQS9CO0FBU0FOLGNBQWMsQ0FBQ08sUUFBZixDQUF3QkosU0FBeEIsQ0FBa0MsRUFDOUIsR0FBR0ssd0JBRDJCO0FBRTlCLEtBQUdDLHdCQUYyQjtBQUc5QixLQUFHQyxnQ0FIMkIsQ0FJOUI7QUFDQTtBQUNBOztBQU44QixDQUFsQztBQVNBVixjQUFjLENBQUNXLFlBQWYsQ0FBNEJSLFNBQTVCLENBQXNDLEVBQ2xDLEdBQUdTO0FBRCtCLENBQXRDO2tCQUllWixjQUFjLENBQUNhLFdBQWYsRSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdnNvbmcvRG93bmxvYWRzL2Z1bi1jb2RlL0hlZHdpZ1VuaWZpZWQvYXBpL3NjaGVtYS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2hlbWFDb21wb3NlciB9IGZyb20gXCJncmFwaHFsLWNvbXBvc2VcIjtcblxuaW1wb3J0IHsgVXNlclF1ZXJ5LCBVc2VyTXV0YXRpb24gfSBmcm9tIFwiLi9Vc2VyU2NoZW1hXCI7XG5pbXBvcnQgeyBBdXRoUXVlcnksIEF1dGhNdXRhdGlvbiB9IGZyb20gXCIuL0F1dGhTY2hlbWFcIjtcbmltcG9ydCB7IExvY2F0aW9uUXVlcnksIExvY2F0aW9uTXV0YXRpb24gfSBmcm9tIFwiLi9Mb2NhdGlvblNjaGVtYVwiO1xuLy8gaW1wb3J0IHsgUHJvZHVjdFF1ZXJ5LCBQcm9kdWN0TXV0YXRpb24gfSBmcm9tIFwiLi9Qcm9kdWN0U2NoZW1hXCI7XG4vLyBpbXBvcnQgeyBPcmRlclF1ZXJ5LCBPcmRlck11dGF0aW9uIH0gZnJvbSBcIi4vT3JkZXJTY2hlbWFcIjtcbmltcG9ydCB7XG4gICAgVmVuZG9yUXVlcnksXG4gICAgVmVuZG9yTXV0YXRpb24sXG4gICAgVmVuZG9yU3Vic2NyaXB0aW9uLFxufSBmcm9tIFwiLi9WZW5kb3JTY2hlbWFcIjtcblxucmVxdWlyZShcIi4uL2RiXCIpO1xuXG5jb25zdCBzY2hlbWFDb21wb3NlciA9IG5ldyBTY2hlbWFDb21wb3NlcigpO1xuXG5zY2hlbWFDb21wb3Nlci5RdWVyeS5hZGRGaWVsZHMoe1xuICAgIC4uLlVzZXJRdWVyeSxcbiAgICAuLi5BdXRoUXVlcnksXG4gICAgLi4uTG9jYXRpb25RdWVyeSxcbiAgICAvLyAuLi5Qcm9kdWN0UXVlcnksXG4gICAgLy8gLi4uT3JkZXJRdWVyeSxcbiAgICAvLyAuLi5WZW5kb3JRdWVyeSxcbn0pO1xuXG5zY2hlbWFDb21wb3Nlci5NdXRhdGlvbi5hZGRGaWVsZHMoe1xuICAgIC4uLlVzZXJNdXRhdGlvbixcbiAgICAuLi5BdXRoTXV0YXRpb24sXG4gICAgLi4uTG9jYXRpb25NdXRhdGlvbixcbiAgICAvLyAuLi5Qcm9kdWN0TXV0YXRpb24sXG4gICAgLy8gLi4uT3JkZXJNdXRhdGlvbixcbiAgICAvLyAuLi5WZW5kb3JNdXRhdGlvbixcbn0pO1xuXG5zY2hlbWFDb21wb3Nlci5TdWJzY3JpcHRpb24uYWRkRmllbGRzKHtcbiAgICAuLi5WZW5kb3JTdWJzY3JpcHRpb24sXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgc2NoZW1hQ29tcG9zZXIuYnVpbGRTY2hlbWEoKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "require",
        "schemaComposer",
        "SchemaComposer",
        "Query",
        "addFields",
        "UserQuery",
        "AuthQuery",
        "LocationQuery",
        "Mutation",
        "UserMutation",
        "AuthMutation",
        "LocationMutation",
        "Subscription",
        "VendorSubscription",
        "buildSchema"
      ],
      "mappings": ";;;;;;AAAA;;AAEA;;AACA;;AACA;;AAGA;;AAFA;AACA;AAOAA,OAAO,CAAC,OAAD,CAAP;;AAEA,MAAMC,cAAc,GAAG,IAAIC,8BAAJ,EAAvB;AAEAD,cAAc,CAACE,KAAf,CAAqBC,SAArB,CAA+B,EAC3B,GAAGC,qBADwB;AAE3B,KAAGC,qBAFwB;AAG3B,KAAGC,6BAHwB,CAI3B;AACA;AACA;;AAN2B,CAA/B;AASAN,cAAc,CAACO,QAAf,CAAwBJ,SAAxB,CAAkC,EAC9B,GAAGK,wBAD2B;AAE9B,KAAGC,wBAF2B;AAG9B,KAAGC,gCAH2B,CAI9B;AACA;AACA;;AAN8B,CAAlC;AASAV,cAAc,CAACW,YAAf,CAA4BR,SAA5B,CAAsC,EAClC,GAAGS;AAD+B,CAAtC;kBAIeZ,cAAc,CAACa,WAAf,E",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "sourcesContent": [
        "import { SchemaComposer } from \"graphql-compose\";\n\nimport { UserQuery, UserMutation } from \"./UserSchema\";\nimport { AuthQuery, AuthMutation } from \"./AuthSchema\";\nimport { LocationQuery, LocationMutation } from \"./LocationSchema\";\n// import { ProductQuery, ProductMutation } from \"./ProductSchema\";\n// import { OrderQuery, OrderMutation } from \"./OrderSchema\";\nimport {\n    VendorQuery,\n    VendorMutation,\n    VendorSubscription,\n} from \"./VendorSchema\";\n\nrequire(\"../db\");\n\nconst schemaComposer = new SchemaComposer();\n\nschemaComposer.Query.addFields({\n    ...UserQuery,\n    ...AuthQuery,\n    ...LocationQuery,\n    // ...ProductQuery,\n    // ...OrderQuery,\n    // ...VendorQuery,\n});\n\nschemaComposer.Mutation.addFields({\n    ...UserMutation,\n    ...AuthMutation,\n    ...LocationMutation,\n    // ...ProductMutation,\n    // ...OrderMutation,\n    // ...VendorMutation,\n});\n\nschemaComposer.Subscription.addFields({\n    ...VendorSubscription,\n});\n\nexport default schemaComposer.buildSchema();\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595808939703
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/UserSchema.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/UserSchema.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/UserSchema.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/UserSchema.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
        "sourceFileName": "UserSchema.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserMutation = exports.UserQuery = undefined;\n\nvar _models = require(\"../models\");\n\nvar _authenticationUtils = require(\"../utils/authenticationUtils\");\n\n/**\n * Relations (necessary for any fields that link to other types in the schema)\n * https://graphql-compose.github.io/docs/plugins/plugin-mongoose.html#how-to-build-nesting-relations\n */\n// Creates relation to carts (order schema)\n_models.UserTC.addRelation(\"carts\", {\n  resolver: () => _models.OrderTC.getResolver(\"findMany\"),\n  prepareArgs: {\n    filter: source => ({\n      fulfillment: \"Cart\",\n      user: source.id\n    })\n  },\n  projection: {\n    carts: 1\n  }\n});\n/**\n * Custom Resolvers\n */\n\n/**\n * Authentication-related resolvers\n */\n\n\n_models.UserTC.addResolver({\n  name: \"authenticate\",\n  type: _models.UserTC,\n  args: {\n    ticket: \"String!\"\n  },\n  resolve: async ({\n    source,\n    args,\n    context,\n    info\n  }) => {\n    const authenticationResponse = await (0, _authenticationUtils.authenticateTicket)(args.ticket);\n\n    if (authenticationResponse.success) {\n      let user; // this will be used as the return object\n      // Get the netid of the authenticated user\n\n      const {\n        netid\n      } = authenticationResponse; // Check if user exists based on netid\n\n      const exists = await _models.User.exists({\n        netid\n      });\n\n      if (!exists) {\n        // Create user\n        user = await _models.User.create({\n          netid\n        });\n      } else {\n        user = await _models.User.findOne({\n          netid\n        });\n      } // Get a new token for the user\n\n\n      const token = (0, _authenticationUtils.createToken)(user); // Update the user's token and get their updated information\n\n      return await _models.User.findByIdAndUpdate(user._id, {\n        token\n      }, {\n        new: true\n      });\n    }\n\n    console.log(\"Bad auth!\");\n    throw Error(\"Bad authentication.\");\n  }\n});\n\n_models.UserTC.addResolver({\n  name: \"verify\",\n  type: _models.UserTC,\n  args: {\n    token: _models.UserTC.getFieldTC(\"token\")\n  },\n  resolve: async ({\n    source,\n    args,\n    context,\n    info\n  }) => {\n    const verificationResponse = await (0, _authenticationUtils.verifyToken)(args.token);\n\n    if (verificationResponse.success) {\n      const {\n        id\n      } = verificationResponse; // Return logged in user's info\n\n      return await _models.User.findById(id);\n    }\n\n    console.log(\"Bad verify!\");\n    throw Error(\"Bad Verification.\");\n  }\n}); // Using auth middleware for sensitive info: https://github.com/graphql-compose/graphql-compose-mongoose/issues/158\n\n\nconst UserQuery = {\n  userOne: _models.UserTC.getResolver(\"findOne\", [authMiddleware])\n};\nconst UserMutation = {\n  userUpdateOne: _models.UserTC.getResolver(\"updateOne\", [authMiddleware])\n};\n\nasync function authMiddleware(resolve, source, args, context, info) {\n  // Without header, throw error\n  if (!context.decodedJWT) {\n    throw new Error(\"You need to be logged in.\");\n  } // Pull out unique MongoDB User id (not the netid) from decoded JWT\n\n\n  const {\n    id\n  } = context.decodedJWT; // Allows a user to only access THEIR user object, while maintaining any other filters/args they might have requested\n\n  return resolve(source, { ...args,\n    filter: { ...args.filter,\n      _id: id\n    }\n  }, context, info);\n}\n\nexports.UserQuery = UserQuery;\nexports.UserMutation = UserMutation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJTY2hlbWEuanMiXSwibmFtZXMiOlsiVXNlclRDIiwiYWRkUmVsYXRpb24iLCJyZXNvbHZlciIsIk9yZGVyVEMiLCJnZXRSZXNvbHZlciIsInByZXBhcmVBcmdzIiwiZmlsdGVyIiwic291cmNlIiwiZnVsZmlsbG1lbnQiLCJ1c2VyIiwiaWQiLCJwcm9qZWN0aW9uIiwiY2FydHMiLCJhZGRSZXNvbHZlciIsIm5hbWUiLCJ0eXBlIiwiYXJncyIsInRpY2tldCIsInJlc29sdmUiLCJjb250ZXh0IiwiaW5mbyIsImF1dGhlbnRpY2F0aW9uUmVzcG9uc2UiLCJzdWNjZXNzIiwibmV0aWQiLCJleGlzdHMiLCJVc2VyIiwiY3JlYXRlIiwiZmluZE9uZSIsInRva2VuIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJfaWQiLCJuZXciLCJjb25zb2xlIiwibG9nIiwiRXJyb3IiLCJnZXRGaWVsZFRDIiwidmVyaWZpY2F0aW9uUmVzcG9uc2UiLCJmaW5kQnlJZCIsIlVzZXJRdWVyeSIsInVzZXJPbmUiLCJhdXRoTWlkZGxld2FyZSIsIlVzZXJNdXRhdGlvbiIsInVzZXJVcGRhdGVPbmUiLCJkZWNvZGVkSldUIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBTUE7Ozs7QUFLQTtBQUNBQSxlQUFPQyxXQUFQLENBQW1CLE9BQW5CLEVBQTRCO0FBQ3hCQyxFQUFBQSxRQUFRLEVBQUUsTUFBTUMsZ0JBQVFDLFdBQVIsQ0FBb0IsVUFBcEIsQ0FEUTtBQUV4QkMsRUFBQUEsV0FBVyxFQUFFO0FBQ1RDLElBQUFBLE1BQU0sRUFBR0MsTUFBRCxLQUFhO0FBQ2pCQyxNQUFBQSxXQUFXLEVBQUUsTUFESTtBQUVqQkMsTUFBQUEsSUFBSSxFQUFFRixNQUFNLENBQUNHO0FBRkksS0FBYjtBQURDLEdBRlc7QUFReEJDLEVBQUFBLFVBQVUsRUFBRTtBQUFFQyxJQUFBQSxLQUFLLEVBQUU7QUFBVDtBQVJZLENBQTVCO0FBV0E7Ozs7QUFJQTs7Ozs7QUFJQVosZUFBT2EsV0FB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QUFxREcsT0FBckQsRUFBOERDLElBQTlELEVBQW9FO0FBQ2hFO0FBQ0EsTUFBSSxDQUFDRCxPQUFPLENBQUN3QixVQUFiLEVBQXlCO0FBQ3JCLFVBQU0sSUFBSVQsS0FBSixDQUFVLDJCQUFWLENBQU47QUFDSCxHQUorRCxDQU1oRTs7O0FBQ0EsUUFBTTtBQUFFeEIsSUFBQUE7QUFBRixNQUFTUyxPQUFPLENBQUN3QixVQUF2QixDQVBnRSxDQVNoRTs7QUFDQSxTQUFPekIsT0FBTyxDQUNWWCxNQURVLEVBRVYsRUFBRSxHQUFHUyxJQUFMO0FBQVdWLElBQUFBLE1BQU0sRUFBRSxFQUFFLEdBQUdVLElBQUksQ0FBQ1YsTUFBVjtBQUFrQndCLE1BQUFBLEdBQUcsRUFBRXBCO0FBQXZCO0FBQW5CLEdBRlUsRUFHVlMsT0FIVSxFQUlWQyxJQUpVLENBQWQ7QUFNSDs7UUFFUWtCLFMsR0FBQUEsUztRQUFXRyxZLEdBQUFBLFkiLCJzb3VyY2VSb290IjoiL1VzZXJzL3Zzb25nL0Rvd25sb2Fkcy9mdW4tY29kZS9IZWR3aWdVbmlmaWVkL2FwaS9zY2hlbWEvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlciwgVXNlclRDLCBPcmRlclRDIH0gZnJvbSBcIi4uL21vZGVsc1wiO1xuaW1wb3J0IHtcbiAgICBhdXRoZW50aWNhdGVUaWNrZXQsXG4gICAgdmVyaWZ5VG9rZW4sXG4gICAgY3JlYXRlVG9rZW4sXG59IGZyb20gXCIuLi91dGlscy9hdXRoZW50aWNhdGlvblV0aWxzXCI7XG5cbi8qKlxuICogUmVsYXRpb25zIChuZWNlc3NhcnkgZm9yIGFueSBmaWVsZHMgdGhhdCBsaW5rIHRvIG90aGVyIHR5cGVzIGluIHRoZSBzY2hlbWEpXG4gKiBodHRwczovL2dyYXBocWwtY29tcG9zZS5naXRodWIuaW8vZG9jcy9wbHVnaW5zL3BsdWdpbi1tb25nb29zZS5odG1sI2hvdy10by1idWlsZC1uZXN0aW5nLXJlbGF0aW9uc1xuICovXG5cbi8vIENyZWF0ZXMgcmVsYXRpb24gdG8gY2FydHMgKG9yZGVyIHNjaGVtYSlcblVzZXJUQy5hZGRSZWxhdGlvbihcImNhcnRzXCIsIHtcbiAgICByZXNvbHZlcjogKCkgPT4gT3JkZXJUQy5nZXRSZXNvbHZlcihcImZpbmRNYW55XCIpLFxuICAgIHByZXBhcmVBcmdzOiB7XG4gICAgICAgIGZpbHRlcjogKHNvdXJjZSkgPT4gKHtcbiAgICAgICAgICAgIGZ1bGZpbGxtZW50OiBcIkNhcnRcIixcbiAgICAgICAgICAgIHVzZXI6IHNvdXJjZS5pZCxcbiAgICAgICAgfSksXG4gICAgfSxcbiAgICBwcm9qZWN0aW9uOiB7IGNhcnRzOiAxIH0sXG59KTtcblxuLyoqXG4gKiBDdXN0b20gUmVzb2x2ZXJzXG4gKi9cblxuLyoqXG4gKiBBdXRoZW50aWNhdGlvbi1yZWxhdGVkIHJlc29sdmVyc1xuICovXG5cblVzZXJUQy5hZGRSZXNvbHZlcih7XG4gICAgbmFtZTogXCJhdXRoZW50aWNhdGVcIixcbiAgICB0eXBlOiBVc2VyVEMsXG4gICAgYXJnczogeyB0aWNrZXQ6IFwiU3RyaW5nIVwiIH0sXG4gICAgcmVzb2x2ZTogYXN5bmMgKHsgc291cmNlLCBhcmdzLCBjb250ZXh0LCBpbmZvIH0pID0+IHtcbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb25SZXNwb25zZSA9IGF3YWl0IGF1dGhlbnRpY2F0ZVRpY2tldChhcmdzLnRpY2tldCk7XG4gICAgICAgIGlmIChhdXRoZW50aWNhdGlvblJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIGxldCB1c2VyOyAvLyB0aGlzIHdpbGwgYmUgdXNlZCBhcyB0aGUgcmV0dXJuIG9iamVjdFxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIG5ldGlkIG9mIHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICAgICAgICAgIGNvbnN0IHsgbmV0aWQgfSA9IGF1dGhlbnRpY2F0aW9uUmVzcG9uc2U7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzIGJhc2VkIG9uIG5ldGlkXG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSBhd2FpdCBVc2VyLmV4aXN0cyh7IG5ldGlkIH0pO1xuICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdXNlclxuICAgICAgICAgICAgICAgIHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZSh7IG5ldGlkIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgbmV0aWQgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhIG5ldyB0b2tlbiBmb3IgdGhlIHVzZXJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gY3JlYXRlVG9rZW4odXNlcik7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdXNlcidzIHRva2VuIGFuZCBnZXQgdGhlaXIgdXBkYXRlZCBpbmZvcm1hdGlvblxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoXG4gICAgICAgICAgICAgICAgdXNlci5faWQsXG4gICAgICAgICAgICAgICAgeyB0b2tlbiB9LFxuICAgICAgICAgICAgICAgIHsgbmV3OiB0cnVlIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQmFkIGF1dGghXCIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcIkJhZCBhdXRoZW50aWNhdGlvbi5cIik7XG4gICAgfSxcbn0pO1xuXG5Vc2VyVEMuYWRkUmVzb2x2ZXIoe1xuICAgIG5hbWU6IFwidmVyaWZ5XCIsXG4gICAgdHlwZTogVXNlclRDLFxuICAgIGFyZ3M6IHsgdG9rZW46IFVzZXJUQy5nZXRGaWVsZFRDKFwidG9rZW5cIikgfSxcbiAgICByZXNvbHZlOiBhc3luYyAoeyBzb3VyY2UsIGFyZ3MsIGNvbnRleHQsIGluZm8gfSkgPT4ge1xuICAgICAgICBjb25zdCB2ZXJpZmljYXRpb25SZXNwb25zZSA9IGF3YWl0IHZlcmlmeVRva2VuKGFyZ3MudG9rZW4pO1xuICAgICAgICBpZiAodmVyaWZpY2F0aW9uUmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc3QgeyBpZCB9ID0gdmVyaWZpY2F0aW9uUmVzcG9uc2U7XG4gICAgICAgICAgICAvLyBSZXR1cm4gbG9nZ2VkIGluIHVzZXIncyBpbmZvXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kQnlJZChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJCYWQgdmVyaWZ5IVwiKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJCYWQgVmVyaWZpY2F0aW9uLlwiKTtcbiAgICB9LFxufSk7XG5cbi8vIFVzaW5nIGF1dGggbWlkZGxld2FyZSBmb3Igc2Vuc2l0aXZlIGluZm86IGh0dHBzOi8vZ2l0aHViLmNvbS9ncmFwaHFsLWNvbXBvc2UvZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlL2lzc3Vlcy8xNThcbmNvbnN0IFVzZXJRdWVyeSA9IHtcbiAgICB1c2VyT25lOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoXCJmaW5kT25lXCIsIFthdXRoTWlkZGxld2FyZV0pLFxufTtcblxuY29uc3QgVXNlck11dGF0aW9uID0ge1xuICAgIHVzZXJVcGRhdGVPbmU6IFVzZXJUQy5nZXRSZXNvbHZlcihcInVwZGF0ZU9uZVwiLCBbYXV0aE1pZGRsZXdhcmVdKSxcbn07XG5cbmFzeW5jIGZ1bmN0aW9uIGF1dGhNaWRkbGV3YXJlKHJlc29sdmUsIHNvdXJjZSwgYXJncywgY29udGV4dCwgaW5mbykge1xuICAgIC8vIFdpdGhvdXQgaGVhZGVyLCB0aHJvdyBlcnJvclxuICAgIGlmICghY29udGV4dC5kZWNvZGVkSldUKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBuZWVkIHRvIGJlIGxvZ2dlZCBpbi5cIik7XG4gICAgfVxuXG4gICAgLy8gUHVsbCBvdXQgdW5pcXVlIE1vbmdvREIgVXNlciBpZCAobm90IHRoZSBuZXRpZCkgZnJvbSBkZWNvZGVkIEpXVFxuICAgIGNvbnN0IHsgaWQgfSA9IGNvbnRleHQuZGVjb2RlZEpXVDtcblxuICAgIC8vIEFsbG93cyBhIHVzZXIgdG8gb25seSBhY2Nlc3MgVEhFSVIgdXNlciBvYmplY3QsIHdoaWxlIG1haW50YWluaW5nIGFueSBvdGhlciBmaWx0ZXJzL2FyZ3MgdGhleSBtaWdodCBoYXZlIHJlcXVlc3RlZFxuICAgIHJldHVybiByZXNvbHZlKFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHsgLi4uYXJncywgZmlsdGVyOiB7IC4uLmFyZ3MuZmlsdGVyLCBfaWQ6IGlkIH0gfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgaW5mbyxcbiAgICApO1xufVxuXG5leHBvcnQgeyBVc2VyUXVlcnksIFVzZXJNdXRhdGlvbiB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "UserSchema.js"
      ],
      "names": [
        "UserTC",
        "addRelation",
        "resolver",
        "OrderTC",
        "getResolver",
        "prepareArgs",
        "filter",
        "source",
        "fulfillment",
        "user",
        "id",
        "projection",
        "carts",
        "addResolver",
        "name",
        "type",
        "args",
        "ticket",
        "resolve",
        "context",
        "info",
        "authenticationResponse",
        "success",
        "netid",
        "exists",
        "User",
        "create",
        "findOne",
        "token",
        "findByIdAndUpdate",
        "_id",
        "new",
        "console",
        "log",
        "Error",
        "getFieldTC",
        "verificationResponse",
        "findById",
        "UserQuery",
        "userOne",
        "authMiddleware",
        "UserMutation",
        "userUpdateOne",
        "decodedJWT"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "sourcesContent": [
        "import { User, UserTC, OrderTC } from \"../models\";\nimport {\n    authenticateTicket,\n    verifyToken,\n    createToken,\n} from \"../utils/authenticationUtils\";\n\n/**\n * Relations (necessary for any fields that link to other types in the schema)\n * https://graphql-compose.github.io/docs/plugins/plugin-mongoose.html#how-to-build-nesting-relations\n */\n\n// Creates relation to carts (order schema)\nUserTC.addRelation(\"carts\", {\n    resolver: () => OrderTC.getResolver(\"findMany\"),\n    prepareArgs: {\n        filter: (source) => ({\n            fulfillment: \"Cart\",\n            user: source.id,\n        }),\n    },\n    projection: { carts: 1 },\n});\n\n/**\n * Custom Resolvers\n */\n\n/**\n * Authentication-related resolvers\n */\n\nUserTC.addResolver({\n    name: \"authenticate\",\n    type: UserTC,\n    args: { ticket: \"String!\" },\n    resolve: async ({ source, args, context, info }) => {\n        const authenticationResponse = await authenticateTicket(args.ticket);\n        if (authenticationResponse.success) {\n            let user; // this will be used as the return object\n\n            // Get the netid of the authenticated user\n            const { netid } = authenticationResponse;\n\n            // Check if user exists based on netid\n            const exists = await User.exists({ netid });\n            if (!exists) {\n                // Create user\n                user = await User.create({ netid });\n            } else {\n                user = await User.findOne({ netid });\n            }\n\n            // Get a new token for the user\n            const token = createToken(user);\n\n            // Update the user's token and get their updated information\n            return await User.findByIdAndUpdate(\n                user._id,\n                { token },\n                { new: true },\n            );\n        }\n        console.log(\"Bad auth!\");\n        throw Error(\"Bad authentication.\");\n    },\n});\n\nUserTC.addResolver({\n    name: \"verify\",\n    type: UserTC,\n    args: { token: UserTC.getFieldTC(\"token\") },\n    resolve: async ({ source, args, context, info }) => {\n        const verificationResponse = await verifyToken(args.token);\n        if (verificationResponse.success) {\n            const { id } = verificationResponse;\n            // Return logged in user's info\n            return await User.findById(id);\n        }\n        console.log(\"Bad verify!\");\n        throw Error(\"Bad Verification.\");\n    },\n});\n\n// Using auth middleware for sensitive info: https://github.com/graphql-compose/graphql-compose-mongoose/issues/158\nconst UserQuery = {\n    userOne: UserTC.getResolver(\"findOne\", [authMiddleware]),\n};\n\nconst UserMutation = {\n    userUpdateOne: UserTC.getResolver(\"updateOne\", [authMiddleware]),\n};\n\nasync function authMiddleware(resolve, source, args, context, info) {\n    // Without header, throw error\n    if (!context.decodedJWT) {\n        throw new Error(\"You need to be logged in.\");\n    }\n\n    // Pull out unique MongoDB User id (not the netid) from decoded JWT\n    const { id } = context.decodedJWT;\n\n    // Allows a user to only access THEIR user object, while maintaining any other filters/args they might have requested\n    return resolve(\n        source,\n        { ...args, filter: { ...args.filter, _id: id } },\n        context,\n        info,\n    );\n}\n\nexport { UserQuery, UserMutation };\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/index.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VendorTC = exports.OrderTC = exports.LocationTC = exports.UserTC = exports.SquareProduct = exports.ShopifyProduct = exports.ExcelProduct = exports.ProductInterface = exports.Money = exports.Vendor = exports.Order = exports.Location = exports.User = undefined;\n\nvar _LocationModel = require(\"./LocationModel\");\n\nvar _OrderModel = require(\"./OrderModel\");\n\nvar _ProductModel = require(\"./ProductModel\");\n\nvar _VendorModel = require(\"./VendorModel\");\n\nvar _UserModel = require(\"./UserModel\");\n\nexports.User = _UserModel.User;\nexports.Location = _LocationModel.Location;\nexports.Order = _OrderModel.Order;\nexports.Vendor = _VendorModel.Vendor;\nexports.Money = _ProductModel.Money;\nexports.ProductInterface = _ProductModel.ProductInterface;\nexports.ExcelProduct = _ProductModel.ExcelProduct;\nexports.ShopifyProduct = _ProductModel.ShopifyProduct;\nexports.SquareProduct = _ProductModel.SquareProduct;\nexports.UserTC = _UserModel.UserTC;\nexports.LocationTC = _LocationModel.LocationTC;\nexports.OrderTC = _OrderModel.OrderTC;\nexports.VendorTC = _VendorModel.VendorTC;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJMb2NhdGlvbiIsIk9yZGVyIiwiVmVuZG9yIiwiTW9uZXkiLCJQcm9kdWN0SW50ZXJmYWNlIiwiRXhjZWxQcm9kdWN0IiwiU2hvcGlmeVByb2R1Y3QiLCJTcXVhcmVQcm9kdWN0IiwiVXNlclRDIiwiTG9jYXRpb25UQyIsIk9yZGVyVEMiLCJWZW5kb3JUQyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQU9BOztBQUNBOztRQUdJQSxJLEdBQUFBLGU7UUFDQUMsUSxHQUFBQSx1QjtRQUNBQyxLLEdBQUFBLGlCO1FBQ0FDLE0sR0FBQUEsbUI7UUFDQUMsSyxHQUFBQSxtQjtRQUNBQyxnQixHQUFBQSw4QjtRQUNBQyxZLEdBQUFBLDBCO1FBQ0FDLGMsR0FBQUEsNEI7UUFDQUMsYSxHQUFBQSwyQjtRQUNBQyxNLEdBQUFBLGlCO1FBQ0FDLFUsR0FBQUEseUI7UUFDQUMsTyxHQUFBQSxtQjtRQUNBQyxRLEdBQUFBLHFCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvY2F0aW9uLCBMb2NhdGlvblRDIH0gZnJvbSBcIi4vTG9jYXRpb25Nb2RlbFwiO1xuaW1wb3J0IHsgT3JkZXIsIE9yZGVyVEMgfSBmcm9tIFwiLi9PcmRlck1vZGVsXCI7XG5pbXBvcnQge1xuICAgIE1vbmV5LFxuICAgIFByb2R1Y3RJbnRlcmZhY2UsXG4gICAgRXhjZWxQcm9kdWN0LFxuICAgIFNob3BpZnlQcm9kdWN0LFxuICAgIFNxdWFyZVByb2R1Y3QsXG59IGZyb20gXCIuL1Byb2R1Y3RNb2RlbFwiO1xuaW1wb3J0IHsgVmVuZG9yLCBWZW5kb3JUQyB9IGZyb20gXCIuL1ZlbmRvck1vZGVsXCI7XG5pbXBvcnQgeyBVc2VyLCBVc2VyVEMgfSBmcm9tIFwiLi9Vc2VyTW9kZWxcIjtcblxuZXhwb3J0IHtcbiAgICBVc2VyLFxuICAgIExvY2F0aW9uLFxuICAgIE9yZGVyLFxuICAgIFZlbmRvcixcbiAgICBNb25leSxcbiAgICBQcm9kdWN0SW50ZXJmYWNlLFxuICAgIEV4Y2VsUHJvZHVjdCxcbiAgICBTaG9waWZ5UHJvZHVjdCxcbiAgICBTcXVhcmVQcm9kdWN0LFxuICAgIFVzZXJUQyxcbiAgICBMb2NhdGlvblRDLFxuICAgIE9yZGVyVEMsXG4gICAgVmVuZG9yVEMsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "User",
        "Location",
        "Order",
        "Vendor",
        "Money",
        "ProductInterface",
        "ExcelProduct",
        "ShopifyProduct",
        "SquareProduct",
        "UserTC",
        "LocationTC",
        "OrderTC",
        "VendorTC"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AAOA;;AACA;;QAGIA,I,GAAAA,e;QACAC,Q,GAAAA,uB;QACAC,K,GAAAA,iB;QACAC,M,GAAAA,mB;QACAC,K,GAAAA,mB;QACAC,gB,GAAAA,8B;QACAC,Y,GAAAA,0B;QACAC,c,GAAAA,4B;QACAC,a,GAAAA,2B;QACAC,M,GAAAA,iB;QACAC,U,GAAAA,yB;QACAC,O,GAAAA,mB;QACAC,Q,GAAAA,qB",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import { Location, LocationTC } from \"./LocationModel\";\nimport { Order, OrderTC } from \"./OrderModel\";\nimport {\n    Money,\n    ProductInterface,\n    ExcelProduct,\n    ShopifyProduct,\n    SquareProduct,\n} from \"./ProductModel\";\nimport { Vendor, VendorTC } from \"./VendorModel\";\nimport { User, UserTC } from \"./UserModel\";\n\nexport {\n    User,\n    Location,\n    Order,\n    Vendor,\n    Money,\n    ProductInterface,\n    ExcelProduct,\n    ShopifyProduct,\n    SquareProduct,\n    UserTC,\n    LocationTC,\n    OrderTC,\n    VendorTC,\n};\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595809020898
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/LocationModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/LocationModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/LocationModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/LocationModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "LocationModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocationTC = exports.Location = undefined;\n\nvar _graphqlComposeMongoose = require(\"graphql-compose-mongoose\");\n\nconst mongoose = require(\"mongoose\");\n\nconst {\n  Schema\n} = mongoose;\n\nrequire(\"../db\");\n\nconst LocationSchema = new Schema({\n  name: String\n});\nconst Location = exports.Location = mongoose.model(\"Locations\", LocationSchema);\nconst LocationTC = exports.LocationTC = (0, _graphqlComposeMongoose.composeWithMongoose)(Location);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvY2F0aW9uTW9kZWwuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwiTG9jYXRpb25TY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwiTG9jYXRpb24iLCJtb2RlbCIsIkxvY2F0aW9uVEMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUVBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFhRixRQUFuQjs7QUFFQUMsT0FBTyxDQUFDLE9BQUQsQ0FBUDs7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUQsTUFBSixDQUFXO0FBQzlCRSxFQUFBQSxJQUFJLEVBQUVDO0FBRHdCLENBQVgsQ0FBdkI7QUFJTyxNQUFNQyxRQUFRLFdBQVJBLFFBQVEsR0FBR04sUUFBUSxDQUFDTyxLQUFULENBQWUsV0FBZixFQUE0QkosY0FBNUIsQ0FBakI7QUFDQSxNQUFNSyxVQUFVLFdBQVZBLFVBQVUsR0FBRyxpREFBb0JGLFFBQXBCLENBQW5CIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBvc2VXaXRoTW9uZ29vc2UgfSBmcm9tIFwiZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlXCI7XG5cbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xuXG5jb25zdCB7IFNjaGVtYSB9ID0gbW9uZ29vc2U7XG5cbnJlcXVpcmUoXCIuLi9kYlwiKTtcblxuY29uc3QgTG9jYXRpb25TY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgICBuYW1lOiBTdHJpbmcsXG59KTtcblxuZXhwb3J0IGNvbnN0IExvY2F0aW9uID0gbW9uZ29vc2UubW9kZWwoXCJMb2NhdGlvbnNcIiwgTG9jYXRpb25TY2hlbWEpO1xuZXhwb3J0IGNvbnN0IExvY2F0aW9uVEMgPSBjb21wb3NlV2l0aE1vbmdvb3NlKExvY2F0aW9uKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "LocationModel.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "LocationSchema",
        "name",
        "String",
        "Location",
        "model",
        "LocationTC"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAaF,QAAnB;;AAEAC,OAAO,CAAC,OAAD,CAAP;;AAEA,MAAME,cAAc,GAAG,IAAID,MAAJ,CAAW;AAC9BE,EAAAA,IAAI,EAAEC;AADwB,CAAX,CAAvB;AAIO,MAAMC,QAAQ,WAARA,QAAQ,GAAGN,QAAQ,CAACO,KAAT,CAAe,WAAf,EAA4BJ,cAA5B,CAAjB;AACA,MAAMK,UAAU,WAAVA,UAAU,GAAG,iDAAoBF,QAApB,CAAnB",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import { composeWithMongoose } from \"graphql-compose-mongoose\";\n\nconst mongoose = require(\"mongoose\");\n\nconst { Schema } = mongoose;\n\nrequire(\"../db\");\n\nconst LocationSchema = new Schema({\n    name: String,\n});\n\nexport const Location = mongoose.model(\"Locations\", LocationSchema);\nexport const LocationTC = composeWithMongoose(Location);\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/db.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/db.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/db.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst mongoose = require(\"mongoose\");\n\nconst {\n  MONGODB_CONNECTION_STRING\n} = require(\"./config\");\n\nconst url = MONGODB_CONNECTION_STRING; // Workaround to deprecation warnings at https://mongoosejs.com/docs/deprecations.html\n\nconst options = {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n};\nmongoose.connect(url, options);\nmongoose.connection.on(\"connected\", function () {\n  console.log(`Mongoose connected to ${url}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIk1PTkdPREJfQ09OTkVDVElPTl9TVFJJTkciLCJ1cmwiLCJvcHRpb25zIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwidXNlQ3JlYXRlSW5kZXgiLCJjb25uZWN0IiwiY29ubmVjdGlvbiIsIm9uIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBLE1BQU07QUFBRUMsRUFBQUE7QUFBRixJQUFnQ0QsT0FBTyxDQUFDLFVBQUQsQ0FBN0M7O0FBRUEsTUFBTUUsR0FBRyxHQUFHRCx5QkFBWixDLENBRUE7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHO0FBQ1pDLEVBQUFBLGVBQWUsRUFBRSxJQURMO0FBRVpDLEVBQUFBLGtCQUFrQixFQUFFLElBRlI7QUFHWkMsRUFBQUEsY0FBYyxFQUFFO0FBSEosQ0FBaEI7QUFNQVAsUUFBUSxDQUFDUSxPQUFULENBQWlCTCxHQUFqQixFQUFzQkMsT0FBdEI7QUFFQUosUUFBUSxDQUFDUyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxZQUFZO0FBQzVDQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBYSx5QkFBd0JULEdBQUksRUFBekM7QUFDSCxDQUZEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKFwibW9uZ29vc2VcIik7XG5jb25zdCB7IE1PTkdPREJfQ09OTkVDVElPTl9TVFJJTkcgfSA9IHJlcXVpcmUoXCIuL2NvbmZpZ1wiKTtcblxuY29uc3QgdXJsID0gTU9OR09EQl9DT05ORUNUSU9OX1NUUklORztcblxuLy8gV29ya2Fyb3VuZCB0byBkZXByZWNhdGlvbiB3YXJuaW5ncyBhdCBodHRwczovL21vbmdvb3NlanMuY29tL2RvY3MvZGVwcmVjYXRpb25zLmh0bWxcbmNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICB1c2VDcmVhdGVJbmRleDogdHJ1ZSxcbn07XG5cbm1vbmdvb3NlLmNvbm5lY3QodXJsLCBvcHRpb25zKTtcblxubW9uZ29vc2UuY29ubmVjdGlvbi5vbihcImNvbm5lY3RlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coYE1vbmdvb3NlIGNvbm5lY3RlZCB0byAke3VybH1gKTtcbn0pO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "MONGODB_CONNECTION_STRING",
        "url",
        "options",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "connect",
        "connection",
        "on",
        "console",
        "log"
      ],
      "mappings": ";;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAgCD,OAAO,CAAC,UAAD,CAA7C;;AAEA,MAAME,GAAG,GAAGD,yBAAZ,C,CAEA;;AACA,MAAME,OAAO,GAAG;AACZC,EAAAA,eAAe,EAAE,IADL;AAEZC,EAAAA,kBAAkB,EAAE,IAFR;AAGZC,EAAAA,cAAc,EAAE;AAHJ,CAAhB;AAMAP,QAAQ,CAACQ,OAAT,CAAiBL,GAAjB,EAAsBC,OAAtB;AAEAJ,QAAQ,CAACS,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAY;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAa,yBAAwBT,GAAI,EAAzC;AACH,CAFD",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/",
      "sourcesContent": [
        "const mongoose = require(\"mongoose\");\nconst { MONGODB_CONNECTION_STRING } = require(\"./config\");\n\nconst url = MONGODB_CONNECTION_STRING;\n\n// Workaround to deprecation warnings at https://mongoosejs.com/docs/deprecations.html\nconst options = {\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n    useCreateIndex: true,\n};\n\nmongoose.connect(url, options);\n\nmongoose.connection.on(\"connected\", function () {\n    console.log(`Mongoose connected to ${url}`);\n});\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/OrderModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/OrderModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/OrderModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/OrderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "OrderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OrderTC = exports.Order = undefined;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _graphqlComposeMongoose = require(\"graphql-compose-mongoose\");\n\nvar _UserModel = require(\"./UserModel\");\n\nvar _VendorModel = require(\"./VendorModel\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import { Product, ProductTC } from \"./ProductModel\";\nrequire(\"../db\"); // export var OrderItemSchema = new mongoose.Schema({\n//     // product: { type: Schema.Types.ObjectId, ref: Product },\n//     // addons: [{ type: Schema.Types.ObjectId, ref: Product }],\n//     quantity: Number,\n//     comments: String, // special requests, etc\n// });\n\n\nconst OrderSchema = new _mongoose2.default.Schema({\n  user: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: _UserModel.User\n  },\n  vendor: {\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: _VendorModel.Vendor,\n    required: true\n  },\n  // items: [OrderItemSchema],\n  discount: {\n    type: Number,\n    min: 1,\n    max: 100\n  },\n  // Percentage\n  fulfillment: {\n    type: String,\n    enum: [\"Cart\", \"Placed\", \"Preparing\", \"Ready\", \"Cancelled\"],\n    default: \"Cart\"\n  }\n}, {\n  timestamps: true\n});\n\nconst Order = exports.Order = _mongoose2.default.model(\"Orders\", OrderSchema);\n\nconst OrderTC = exports.OrderTC = (0, _graphqlComposeMongoose.composeWithMongoose)(Order);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIk9yZGVyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJ1c2VyIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJVc2VyIiwidmVuZG9yIiwiVmVuZG9yIiwicmVxdWlyZWQiLCJkaXNjb3VudCIsIk51bWJlciIsIm1pbiIsIm1heCIsImZ1bGZpbGxtZW50IiwiU3RyaW5nIiwiZW51bSIsImRlZmF1bHQiLCJ0aW1lc3RhbXBzIiwiT3JkZXIiLCJtb2RlbCIsIk9yZGVyVEMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBOztBQUVBOztBQUNBOzs7O0FBQ0E7QUFFQUEsT0FBTyxDQUFDLE9BQUQsQ0FBUCxDLENBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQSxNQUFNQyxXQUFXLEdBQUcsSUFBSUMsbUJBQVNDLE1BQWIsQ0FDaEI7QUFDSUMsRUFBQUEsSUFBSSxFQUFFO0FBQUVDLElBQUFBLElBQUksRUFBRUYsaUJBQU9HLEtBQVAsQ0FBYUMsUUFBckI7QUFBK0JDLElBQUFBLEdBQUcsRUFBRUM7QUFBcEMsR0FEVjtBQUVJQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFRixpQkFBT0csS0FBUCxDQUFhQyxRQUFyQjtBQUErQkMsSUFBQUEsR0FBRyxFQUFFRyxtQkFBcEM7QUFBNENDLElBQUFBLFFBQVEsRUFBRTtBQUF0RCxHQUZaO0FBR0k7QUFDQUMsRUFBQUEsUUFBUSxFQUFFO0FBQUVSLElBQUFBLElBQUksRUFBRVMsTUFBUjtBQUFnQkMsSUFBQUEsR0FBRyxFQUFFLENBQXJCO0FBQXdCQyxJQUFBQSxHQUFHLEVBQUU7QUFBN0IsR0FKZDtBQUlrRDtBQUM5Q0MsRUFBQUEsV0FBVyxFQUFFO0FBQ1RaLElBQUFBLElBQUksRUFBRWEsTUFERztBQUVUQyxJQUFBQSxJQUFJLEVBQUUsQ0FBQyxNQUFELEVBQVMsUUFBVCxFQUFtQixXQUFuQixFQUFnQyxPQUFoQyxFQUF5QyxXQUF6QyxDQUZHO0FBR1RDLElBQUFBLE9BQU8sRUFBRTtBQUhBO0FBTGpCLENBRGdCLEVBWWhCO0FBQUVDLEVBQUFBLFVBQVUsRUFBRTtBQUFkLENBWmdCLENBQXBCOztBQWVPLE1BQU1DLEtBQUssV0FBTEEsS0FBSyxHQUFHcEIsbUJBQVNxQixLQUFULENBQWUsUUFBZixFQUF5QnRCLFdBQXpCLENBQWQ7O0FBQ0EsTUFBTXVCLE9BQU8sV0FBUEEsT0FBTyxHQUFHLGlEQUFvQkYsS0FBcEIsQ0FBaEIiLCJzb3VyY2VSb290IjoiL1VzZXJzL3Zzb25nL0Rvd25sb2Fkcy9mdW4tY29kZS9IZWR3aWdVbmlmaWVkL2FwaS9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7IFNjaGVtYSB9IGZyb20gXCJtb25nb29zZVwiO1xuXG5pbXBvcnQgeyBjb21wb3NlV2l0aE1vbmdvb3NlIH0gZnJvbSBcImdyYXBocWwtY29tcG9zZS1tb25nb29zZVwiO1xuXG5pbXBvcnQgeyBVc2VyLCBVc2VyVEMgfSBmcm9tIFwiLi9Vc2VyTW9kZWxcIjtcbmltcG9ydCB7IFZlbmRvciwgVmVuZG9yVEMgfSBmcm9tIFwiLi9WZW5kb3JNb2RlbFwiO1xuLy8gaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFRDIH0gZnJvbSBcIi4vUHJvZHVjdE1vZGVsXCI7XG5cbnJlcXVpcmUoXCIuLi9kYlwiKTtcblxuLy8gZXhwb3J0IHZhciBPcmRlckl0ZW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbi8vICAgICAvLyBwcm9kdWN0OiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBQcm9kdWN0IH0sXG4vLyAgICAgLy8gYWRkb25zOiBbeyB0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogUHJvZHVjdCB9XSxcbi8vICAgICBxdWFudGl0eTogTnVtYmVyLFxuLy8gICAgIGNvbW1lbnRzOiBTdHJpbmcsIC8vIHNwZWNpYWwgcmVxdWVzdHMsIGV0Y1xuLy8gfSk7XG5cbmNvbnN0IE9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAgICB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFVzZXIgfSxcbiAgICAgICAgdmVuZG9yOiB7IHR5cGU6IFNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBWZW5kb3IsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICAgIC8vIGl0ZW1zOiBbT3JkZXJJdGVtU2NoZW1hXSxcbiAgICAgICAgZGlzY291bnQ6IHsgdHlwZTogTnVtYmVyLCBtaW46IDEsIG1heDogMTAwIH0sIC8vIFBlcmNlbnRhZ2VcbiAgICAgICAgZnVsZmlsbG1lbnQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGVudW06IFtcIkNhcnRcIiwgXCJQbGFjZWRcIiwgXCJQcmVwYXJpbmdcIiwgXCJSZWFkeVwiLCBcIkNhbmNlbGxlZFwiXSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwiQ2FydFwiLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgeyB0aW1lc3RhbXBzOiB0cnVlIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgT3JkZXIgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyc1wiLCBPcmRlclNjaGVtYSk7XG5leHBvcnQgY29uc3QgT3JkZXJUQyA9IGNvbXBvc2VXaXRoTW9uZ29vc2UoT3JkZXIpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "OrderModel.js"
      ],
      "names": [
        "require",
        "OrderSchema",
        "mongoose",
        "Schema",
        "user",
        "type",
        "Types",
        "ObjectId",
        "ref",
        "User",
        "vendor",
        "Vendor",
        "required",
        "discount",
        "Number",
        "min",
        "max",
        "fulfillment",
        "String",
        "enum",
        "default",
        "timestamps",
        "Order",
        "model",
        "OrderTC"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA;;AAEA;;AACA;;;;AACA;AAEAA,OAAO,CAAC,OAAD,CAAP,C,CAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA,MAAMC,WAAW,GAAG,IAAIC,mBAASC,MAAb,CAChB;AACIC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QAArB;AAA+BC,IAAAA,GAAG,EAAEC;AAApC,GADV;AAEIC,EAAAA,MAAM,EAAE;AAAEL,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QAArB;AAA+BC,IAAAA,GAAG,EAAEG,mBAApC;AAA4CC,IAAAA,QAAQ,EAAE;AAAtD,GAFZ;AAGI;AACAC,EAAAA,QAAQ,EAAE;AAAER,IAAAA,IAAI,EAAES,MAAR;AAAgBC,IAAAA,GAAG,EAAE,CAArB;AAAwBC,IAAAA,GAAG,EAAE;AAA7B,GAJd;AAIkD;AAC9CC,EAAAA,WAAW,EAAE;AACTZ,IAAAA,IAAI,EAAEa,MADG;AAETC,IAAAA,IAAI,EAAE,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,OAAhC,EAAyC,WAAzC,CAFG;AAGTC,IAAAA,OAAO,EAAE;AAHA;AALjB,CADgB,EAYhB;AAAEC,EAAAA,UAAU,EAAE;AAAd,CAZgB,CAApB;;AAeO,MAAMC,KAAK,WAALA,KAAK,GAAGpB,mBAASqB,KAAT,CAAe,QAAf,EAAyBtB,WAAzB,CAAd;;AACA,MAAMuB,OAAO,WAAPA,OAAO,GAAG,iDAAoBF,KAApB,CAAhB",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import mongoose, { Schema } from \"mongoose\";\n\nimport { composeWithMongoose } from \"graphql-compose-mongoose\";\n\nimport { User, UserTC } from \"./UserModel\";\nimport { Vendor, VendorTC } from \"./VendorModel\";\n// import { Product, ProductTC } from \"./ProductModel\";\n\nrequire(\"../db\");\n\n// export var OrderItemSchema = new mongoose.Schema({\n//     // product: { type: Schema.Types.ObjectId, ref: Product },\n//     // addons: [{ type: Schema.Types.ObjectId, ref: Product }],\n//     quantity: Number,\n//     comments: String, // special requests, etc\n// });\n\nconst OrderSchema = new mongoose.Schema(\n    {\n        user: { type: Schema.Types.ObjectId, ref: User },\n        vendor: { type: Schema.Types.ObjectId, ref: Vendor, required: true },\n        // items: [OrderItemSchema],\n        discount: { type: Number, min: 1, max: 100 }, // Percentage\n        fulfillment: {\n            type: String,\n            enum: [\"Cart\", \"Placed\", \"Preparing\", \"Ready\", \"Cancelled\"],\n            default: \"Cart\",\n        },\n    },\n    { timestamps: true },\n);\n\nexport const Order = mongoose.model(\"Orders\", OrderSchema);\nexport const OrderTC = composeWithMongoose(Order);\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595808939702
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/UserModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/UserModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/UserModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/UserModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "UserModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserTC = exports.User = undefined;\n\nvar _graphqlComposeMongoose = require(\"graphql-compose-mongoose\");\n\nvar _mongoose = require(\"mongoose\");\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"../db\");\n\nconst UserSchema = new _mongoose2.default.Schema({\n  name: String,\n  netid: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  // This will be our unique identifier across systems\n  token: {\n    type: String,\n    default: \"\"\n  },\n  // We will use this to store the user's JWT token\n  recentUpdate: {\n    type: Boolean,\n    default: false\n  },\n  // this field used for displaying banners/modals on version updates of our app\n  phone: String,\n  type: {\n    type: String,\n    enum: [\"Undergraduate\", \"Graduate\", \"Faculty\", \"Staff\"],\n    default: \"Undergraduate\"\n  },\n  isAdmin: {\n    type: Boolean,\n    default: false\n  }\n});\n\nconst User = exports.User = _mongoose2.default.model(\"Users\", UserSchema);\n\nconst UserTC = exports.UserTC = (0, _graphqlComposeMongoose.composeWithMongoose)(User);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXF1aXJlIiwiVXNlclNjaGVtYSIsIm1vbmdvb3NlIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsIm5ldGlkIiwidHlwZSIsInJlcXVpcmVkIiwidW5pcXVlIiwidG9rZW4iLCJkZWZhdWx0IiwicmVjZW50VXBkYXRlIiwiQm9vbGVhbiIsInBob25lIiwiZW51bSIsImlzQWRtaW4iLCJVc2VyIiwibW9kZWwiLCJVc2VyVEMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7Ozs7O0FBRUFBLE9BQU8sQ0FBQyxPQUFELENBQVA7O0FBRUEsTUFBTUMsVUFBVSxHQUFHLElBQUlDLG1CQUFTQyxNQUFiLENBQW9CO0FBQ25DQyxFQUFBQSxJQUFJLEVBQUVDLE1BRDZCO0FBRW5DQyxFQUFBQSxLQUFLLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFRixNQUFSO0FBQWdCRyxJQUFBQSxRQUFRLEVBQUUsSUFBMUI7QUFBZ0NDLElBQUFBLE1BQU0sRUFBRTtBQUF4QyxHQUY0QjtBQUVvQjtBQUN2REMsRUFBQUEsS0FBSyxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUYsTUFBUjtBQUFnQk0sSUFBQUEsT0FBTyxFQUFFO0FBQXpCLEdBSDRCO0FBR0c7QUFDdENDLEVBQUFBLFlBQVksRUFBRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVNLE9BQVI7QUFBaUJGLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQUpxQjtBQUljO0FBQ2pERyxFQUFBQSxLQUFLLEVBQUVULE1BTDRCO0FBTW5DRSxFQUFBQSxJQUFJLEVBQUU7QUFDRkEsSUFBQUEsSUFBSSxFQUFFRixNQURKO0FBRUZVLElBQUFBLElBQUksRUFBRSxDQUFDLGVBQUQsRUFBa0IsVUFBbEIsRUFBOEIsU0FBOUIsRUFBeUMsT0FBekMsQ0FGSjtBQUdGSixJQUFBQSxPQUFPLEVBQUU7QUFIUCxHQU42QjtBQVduQ0ssRUFBQUEsT0FBTyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRU0sT0FBUjtBQUFpQkYsSUFBQUEsT0FBTyxFQUFFO0FBQTFCO0FBWDBCLENBQXBCLENBQW5COztBQWNPLE1BQU1NLElBQUksV0FBSkEsSUFBSSxHQUFHZixtQkFBU2dCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCakIsVUFBeEIsQ0FBYjs7QUFDQSxNQUFNa0IsTUFBTSxXQUFOQSxNQUFNLEdBQUcsaURBQW9CRixJQUFwQixDQUFmIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBvc2VXaXRoTW9uZ29vc2UgfSBmcm9tIFwiZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlXCI7XG5cbmltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxucmVxdWlyZShcIi4uL2RiXCIpO1xuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIG5ldGlkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LCAvLyBUaGlzIHdpbGwgYmUgb3VyIHVuaXF1ZSBpZGVudGlmaWVyIGFjcm9zcyBzeXN0ZW1zXG4gICAgdG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBcIlwiIH0sIC8vIFdlIHdpbGwgdXNlIHRoaXMgdG8gc3RvcmUgdGhlIHVzZXIncyBKV1QgdG9rZW5cbiAgICByZWNlbnRVcGRhdGU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwgLy8gdGhpcyBmaWVsZCB1c2VkIGZvciBkaXNwbGF5aW5nIGJhbm5lcnMvbW9kYWxzIG9uIHZlcnNpb24gdXBkYXRlcyBvZiBvdXIgYXBwXG4gICAgcGhvbmU6IFN0cmluZyxcbiAgICB0eXBlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgZW51bTogW1wiVW5kZXJncmFkdWF0ZVwiLCBcIkdyYWR1YXRlXCIsIFwiRmFjdWx0eVwiLCBcIlN0YWZmXCJdLFxuICAgICAgICBkZWZhdWx0OiBcIlVuZGVyZ3JhZHVhdGVcIixcbiAgICB9LFxuICAgIGlzQWRtaW46IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbn0pO1xuXG5leHBvcnQgY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKFwiVXNlcnNcIiwgVXNlclNjaGVtYSk7XG5leHBvcnQgY29uc3QgVXNlclRDID0gY29tcG9zZVdpdGhNb25nb29zZShVc2VyKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "UserModel.js"
      ],
      "names": [
        "require",
        "UserSchema",
        "mongoose",
        "Schema",
        "name",
        "String",
        "netid",
        "type",
        "required",
        "unique",
        "token",
        "default",
        "recentUpdate",
        "Boolean",
        "phone",
        "enum",
        "isAdmin",
        "User",
        "model",
        "UserTC"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;;;AAEAA,OAAO,CAAC,OAAD,CAAP;;AAEA,MAAMC,UAAU,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AACnCC,EAAAA,IAAI,EAAEC,MAD6B;AAEnCC,EAAAA,KAAK,EAAE;AAAEC,IAAAA,IAAI,EAAEF,MAAR;AAAgBG,IAAAA,QAAQ,EAAE,IAA1B;AAAgCC,IAAAA,MAAM,EAAE;AAAxC,GAF4B;AAEoB;AACvDC,EAAAA,KAAK,EAAE;AAAEH,IAAAA,IAAI,EAAEF,MAAR;AAAgBM,IAAAA,OAAO,EAAE;AAAzB,GAH4B;AAGG;AACtCC,EAAAA,YAAY,EAAE;AAAEL,IAAAA,IAAI,EAAEM,OAAR;AAAiBF,IAAAA,OAAO,EAAE;AAA1B,GAJqB;AAIc;AACjDG,EAAAA,KAAK,EAAET,MAL4B;AAMnCE,EAAAA,IAAI,EAAE;AACFA,IAAAA,IAAI,EAAEF,MADJ;AAEFU,IAAAA,IAAI,EAAE,CAAC,eAAD,EAAkB,UAAlB,EAA8B,SAA9B,EAAyC,OAAzC,CAFJ;AAGFJ,IAAAA,OAAO,EAAE;AAHP,GAN6B;AAWnCK,EAAAA,OAAO,EAAE;AAAET,IAAAA,IAAI,EAAEM,OAAR;AAAiBF,IAAAA,OAAO,EAAE;AAA1B;AAX0B,CAApB,CAAnB;;AAcO,MAAMM,IAAI,WAAJA,IAAI,GAAGf,mBAASgB,KAAT,CAAe,OAAf,EAAwBjB,UAAxB,CAAb;;AACA,MAAMkB,MAAM,WAANA,MAAM,GAAG,iDAAoBF,IAApB,CAAf",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import { composeWithMongoose } from \"graphql-compose-mongoose\";\n\nimport mongoose, { Schema } from \"mongoose\";\n\nrequire(\"../db\");\n\nconst UserSchema = new mongoose.Schema({\n    name: String,\n    netid: { type: String, required: true, unique: true }, // This will be our unique identifier across systems\n    token: { type: String, default: \"\" }, // We will use this to store the user's JWT token\n    recentUpdate: { type: Boolean, default: false }, // this field used for displaying banners/modals on version updates of our app\n    phone: String,\n    type: {\n        type: String,\n        enum: [\"Undergraduate\", \"Graduate\", \"Faculty\", \"Staff\"],\n        default: \"Undergraduate\",\n    },\n    isAdmin: { type: Boolean, default: false },\n});\n\nexport const User = mongoose.model(\"Users\", UserSchema);\nexport const UserTC = composeWithMongoose(User);\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595808939702
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/VendorModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/VendorModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/VendorModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/VendorModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "VendorModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VendorTC = exports.Vendor = undefined;\n\nvar _mongoose = require(\"mongoose\");\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _graphqlComposeMongoose = require(\"graphql-compose-mongoose\");\n\nvar _UserModel = require(\"./UserModel\");\n\nvar _LocationModel = require(\"./LocationModel\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nrequire(\"../db\");\n\nconst OpenIntervalSchema = new _mongoose2.default.Schema({\n  day: {\n    type: String,\n    enum: [\"M\", \"T\", \"W\", \"R\", \"F\", \"S\", \"U\"]\n  },\n  start: Number,\n  end: Number\n});\nconst VendorSchema = new _mongoose2.default.Schema({\n  name: String,\n  imageURL: String,\n  slug: {\n    type: String,\n    min: 3,\n    max: 5,\n    unique: true,\n    required: true\n  },\n  // short 3 letter slug that identifies this vendor\n  phone: String,\n  type: {\n    type: String,\n    enum: [\"SRB\", \"Retail\", \"Servery\"]\n  },\n  team: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: _UserModel.User\n  }],\n  hours: [OpenIntervalSchema],\n  locations: [{\n    type: _mongoose.Schema.Types.ObjectId,\n    ref: _LocationModel.Location\n  }]\n});\n\nconst Vendor = exports.Vendor = _mongoose2.default.model(\"Vendors\", VendorSchema);\n\nconst VendorTC = exports.VendorTC = (0, _graphqlComposeMongoose.composeWithMongoose)(Vendor);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlbmRvck1vZGVsLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJPcGVuSW50ZXJ2YWxTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsImRheSIsInR5cGUiLCJTdHJpbmciLCJlbnVtIiwic3RhcnQiLCJOdW1iZXIiLCJlbmQiLCJWZW5kb3JTY2hlbWEiLCJuYW1lIiwiaW1hZ2VVUkwiLCJzbHVnIiwibWluIiwibWF4IiwidW5pcXVlIiwicmVxdWlyZWQiLCJwaG9uZSIsInRlYW0iLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiVXNlciIsImhvdXJzIiwibG9jYXRpb25zIiwiTG9jYXRpb24iLCJWZW5kb3IiLCJtb2RlbCIsIlZlbmRvclRDIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFFQTs7QUFFQTs7QUFDQTs7OztBQUVBQSxPQUFPLENBQUMsT0FBRCxDQUFQOztBQUVBLE1BQU1DLGtCQUFrQixHQUFHLElBQUlDLG1CQUFTQyxNQUFiLENBQW9CO0FBQzNDQyxFQUFBQSxHQUFHLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxJQUFJLEVBQUUsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsRUFBZ0IsR0FBaEIsRUFBcUIsR0FBckIsRUFBMEIsR0FBMUIsRUFBK0IsR0FBL0I7QUFBdEIsR0FEc0M7QUFFM0NDLEVBQUFBLEtBQUssRUFBRUMsTUFGb0M7QUFHM0NDLEVBQUFBLEdBQUcsRUFBRUQ7QUFIc0MsQ0FBcEIsQ0FBM0I7QUFNQSxNQUFNRSxZQUFZLEdBQUcsSUFBSVQsbUJBQVNDLE1BQWIsQ0FBb0I7QUFDckNTLEVBQUFBLElBQUksRUFBRU4sTUFEK0I7QUFFckNPLEVBQUFBLFFBQVEsRUFBRVAsTUFGMkI7QUFHckNRLEVBQUFBLElBQUksRUFBRTtBQUFFVCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JTLElBQUFBLEdBQUcsRUFBRSxDQUFyQjtBQUF3QkMsSUFBQUEsR0FBRyxFQUFFLENBQTdCO0FBQWdDQyxJQUFBQSxNQUFNLEVBQUUsSUFBeEM7QUFBOENDLElBQUFBLFFBQVEsRUFBRTtBQUF4RCxHQUgrQjtBQUdpQztBQUN0RUMsRUFBQUEsS0FBSyxFQUFFYixNQUo4QjtBQUtyQ0QsRUFBQUEsSUFBSSxFQUFFO0FBQUVBLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsSUFBSSxFQUFFLENBQUMsS0FBRCxFQUFRLFFBQVIsRUFBa0IsU0FBbEI7QUFBdEIsR0FMK0I7QUFNckNhLEVBQUFBLElBQUksRUFBRSxDQUFDO0FBQUVmLElBQUFBLElBQUksRUFBRUYsaUJBQU9rQixLQUFQLENBQWFDLFFBQXJCO0FBQStCQyxJQUFBQSxHQUFHLEVBQUVDO0FBQXBDLEdBQUQsQ0FOK0I7QUFPckNDLEVBQUFBLEtBQUssRUFBRSxDQUFDeEIsa0JBQUQsQ0FQOEI7QUFRckN5QixFQUFBQSxTQUFTLEVBQUUsQ0FBQztBQUFFckIsSUFBQUEsSUFBSSxFQUFFRixpQkFBT2tCLEtBQVAsQ0FBYUMsUUFBckI7QUFBK0JDLElBQUFBLEdBQUcsRUFBRUk7QUFBcEMsR0FBRDtBQVIwQixDQUFwQixDQUFyQjs7QUFXTyxNQUFNQyxNQUFNLFdBQU5BLE1BQU0sR0FBRzFCLG1CQUFTMkIsS0FBVCxDQUFlLFNBQWYsRUFBMEJsQixZQUExQixDQUFmOztBQUNBLE1BQU1tQixRQUFRLFdBQVJBLFFBQVEsR0FBRyxpREFBb0JGLE1BQXBCLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tIFwibW9uZ29vc2VcIjtcblxuaW1wb3J0IHsgY29tcG9zZVdpdGhNb25nb29zZSB9IGZyb20gXCJncmFwaHFsLWNvbXBvc2UtbW9uZ29vc2VcIjtcblxuaW1wb3J0IHsgVXNlciwgVXNlclRDIH0gZnJvbSBcIi4vVXNlck1vZGVsXCI7XG5pbXBvcnQgeyBMb2NhdGlvbiwgTG9jYXRpb25UQyB9IGZyb20gXCIuL0xvY2F0aW9uTW9kZWxcIjtcblxucmVxdWlyZShcIi4uL2RiXCIpO1xuXG5jb25zdCBPcGVuSW50ZXJ2YWxTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBkYXk6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbXCJNXCIsIFwiVFwiLCBcIldcIiwgXCJSXCIsIFwiRlwiLCBcIlNcIiwgXCJVXCJdIH0sXG4gICAgc3RhcnQ6IE51bWJlcixcbiAgICBlbmQ6IE51bWJlcixcbn0pO1xuXG5jb25zdCBWZW5kb3JTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBuYW1lOiBTdHJpbmcsXG4gICAgaW1hZ2VVUkw6IFN0cmluZyxcbiAgICBzbHVnOiB7IHR5cGU6IFN0cmluZywgbWluOiAzLCBtYXg6IDUsIHVuaXF1ZTogdHJ1ZSwgcmVxdWlyZWQ6IHRydWUgfSwgLy8gc2hvcnQgMyBsZXR0ZXIgc2x1ZyB0aGF0IGlkZW50aWZpZXMgdGhpcyB2ZW5kb3JcbiAgICBwaG9uZTogU3RyaW5nLFxuICAgIHR5cGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbXCJTUkJcIiwgXCJSZXRhaWxcIiwgXCJTZXJ2ZXJ5XCJdIH0sXG4gICAgdGVhbTogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFVzZXIgfV0sXG4gICAgaG91cnM6IFtPcGVuSW50ZXJ2YWxTY2hlbWFdLFxuICAgIGxvY2F0aW9uczogW3sgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IExvY2F0aW9uIH1dLFxufSk7XG5cbmV4cG9ydCBjb25zdCBWZW5kb3IgPSBtb25nb29zZS5tb2RlbChcIlZlbmRvcnNcIiwgVmVuZG9yU2NoZW1hKTtcbmV4cG9ydCBjb25zdCBWZW5kb3JUQyA9IGNvbXBvc2VXaXRoTW9uZ29vc2UoVmVuZG9yKTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "VendorModel.js"
      ],
      "names": [
        "require",
        "OpenIntervalSchema",
        "mongoose",
        "Schema",
        "day",
        "type",
        "String",
        "enum",
        "start",
        "Number",
        "end",
        "VendorSchema",
        "name",
        "imageURL",
        "slug",
        "min",
        "max",
        "unique",
        "required",
        "phone",
        "team",
        "Types",
        "ObjectId",
        "ref",
        "User",
        "hours",
        "locations",
        "Location",
        "Vendor",
        "model",
        "VendorTC"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA;;AAEA;;AACA;;;;AAEAA,OAAO,CAAC,OAAD,CAAP;;AAEA,MAAMC,kBAAkB,GAAG,IAAIC,mBAASC,MAAb,CAAoB;AAC3CC,EAAAA,GAAG,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,IAAI,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,GAA1B,EAA+B,GAA/B;AAAtB,GADsC;AAE3CC,EAAAA,KAAK,EAAEC,MAFoC;AAG3CC,EAAAA,GAAG,EAAED;AAHsC,CAApB,CAA3B;AAMA,MAAME,YAAY,GAAG,IAAIT,mBAASC,MAAb,CAAoB;AACrCS,EAAAA,IAAI,EAAEN,MAD+B;AAErCO,EAAAA,QAAQ,EAAEP,MAF2B;AAGrCQ,EAAAA,IAAI,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBS,IAAAA,GAAG,EAAE,CAArB;AAAwBC,IAAAA,GAAG,EAAE,CAA7B;AAAgCC,IAAAA,MAAM,EAAE,IAAxC;AAA8CC,IAAAA,QAAQ,EAAE;AAAxD,GAH+B;AAGiC;AACtEC,EAAAA,KAAK,EAAEb,MAJ8B;AAKrCD,EAAAA,IAAI,EAAE;AAAEA,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,IAAI,EAAE,CAAC,KAAD,EAAQ,QAAR,EAAkB,SAAlB;AAAtB,GAL+B;AAMrCa,EAAAA,IAAI,EAAE,CAAC;AAAEf,IAAAA,IAAI,EAAEF,iBAAOkB,KAAP,CAAaC,QAArB;AAA+BC,IAAAA,GAAG,EAAEC;AAApC,GAAD,CAN+B;AAOrCC,EAAAA,KAAK,EAAE,CAACxB,kBAAD,CAP8B;AAQrCyB,EAAAA,SAAS,EAAE,CAAC;AAAErB,IAAAA,IAAI,EAAEF,iBAAOkB,KAAP,CAAaC,QAArB;AAA+BC,IAAAA,GAAG,EAAEI;AAApC,GAAD;AAR0B,CAApB,CAArB;;AAWO,MAAMC,MAAM,WAANA,MAAM,GAAG1B,mBAAS2B,KAAT,CAAe,SAAf,EAA0BlB,YAA1B,CAAf;;AACA,MAAMmB,QAAQ,WAARA,QAAQ,GAAG,iDAAoBF,MAApB,CAAjB",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import mongoose, { Schema } from \"mongoose\";\n\nimport { composeWithMongoose } from \"graphql-compose-mongoose\";\n\nimport { User, UserTC } from \"./UserModel\";\nimport { Location, LocationTC } from \"./LocationModel\";\n\nrequire(\"../db\");\n\nconst OpenIntervalSchema = new mongoose.Schema({\n    day: { type: String, enum: [\"M\", \"T\", \"W\", \"R\", \"F\", \"S\", \"U\"] },\n    start: Number,\n    end: Number,\n});\n\nconst VendorSchema = new mongoose.Schema({\n    name: String,\n    imageURL: String,\n    slug: { type: String, min: 3, max: 5, unique: true, required: true }, // short 3 letter slug that identifies this vendor\n    phone: String,\n    type: { type: String, enum: [\"SRB\", \"Retail\", \"Servery\"] },\n    team: [{ type: Schema.Types.ObjectId, ref: User }],\n    hours: [OpenIntervalSchema],\n    locations: [{ type: Schema.Types.ObjectId, ref: Location }],\n});\n\nexport const Vendor = mongoose.model(\"Vendors\", VendorSchema);\nexport const VendorTC = composeWithMongoose(Vendor);\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595808939702
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ProductModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ProductModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ProductModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ProductModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "ProductModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ExcelProduct = exports.ShopifyProduct = exports.SquareCatalogItem = exports.ProductInterface = exports.MoneyTC = exports.DataSourceEnum = undefined;\n\nvar _graphql = require(\"graphql\");\n\nvar _graphqlCompose = require(\"graphql-compose\");\n\nvar _VendorModel = require(\"./VendorModel\");\n\nvar _ModifierModel = require(\"./ModifierModel\");\n\nconst DataSourceEnum = exports.DataSourceEnum = _graphqlCompose.schemaComposer.createEnumTC({\n  name: \"DataSourceEnum\",\n  values: {\n    SQUARE: {\n      value: \"Square\"\n    },\n    SHOPIFY: {\n      value: \"Shopify\"\n    },\n    EXCEL: {\n      value: \"Excel\"\n    }\n  }\n});\n\nconst ProductInterface = _graphqlCompose.schemaComposer.createInterfaceTC({\n  name: \"Product\",\n  description: \"The base type for our products\",\n  fields: {\n    name: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    description: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    vendor: () => _VendorModel.VendorTC,\n    dataSource: () => DataSourceEnum,\n    category: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    tags: (0, _graphql.GraphQLNonNull)((0, _graphql.GraphQLList)(_graphql.GraphQLString)),\n    image: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString)\n  }\n});\n\nconst MoneyTC = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"Money\",\n  description: \"Square's representation of money\",\n  fields: {\n    amount: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLInt),\n    currency: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString)\n  }\n});\n\nconst SquareCatalogObject = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"CatalogObject\",\n  description: \"Catalog Object wrapper defined by Square\",\n  fields: {\n    type: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    id: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    // NonNull if type matches; null otherwise\n    itemData: () => SquareCatalogItem,\n    itemVariationData: () => SquareCatalogItemVariation,\n    modifierListData: () => _ModifierModel.ModifierListTC,\n    modifierData: () => _ModifierModel.ModifierTC\n  }\n});\n\nconst SquareCatalogItemVariation = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"CatalogItemVariation\",\n  description: \"Catalog item for Square\",\n  fields: {\n    itemID: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    name: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    price_money: (0, _graphql.GraphQLNonNull)(MoneyTC.getType())\n  }\n});\n\nconst SquareCatalogItem = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"SquareProduct\",\n  description: \"Products with Square as a data source\",\n  fields: {\n    itemID: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    modifierListInfo: (0, _graphql.GraphQLNonNull)((0, _graphql.GraphQLList)(_ModifierModel.ModifierListTC.getType())),\n    variations: (0, _graphql.GraphQLNonNull)((0, _graphql.GraphQLList)(SquareCatalogItemVariation.getType()))\n  }\n}).addInterfaces([ProductInterface]); // go victor!! go victor!! and will! and will!\n\n\nconst ShopifyProduct = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"ShopifyProduct\",\n  description: \"Products with Shopify as a data source\",\n  fields: {\n    itemID: \"String!\"\n  }\n}).addInterfaces([ProductInterface]);\n\nconst ExcelProduct = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"ExcelProduct\",\n  description: \"Products with Excel as a data source\",\n  fields: {\n    daysOffered: \"[String]\"\n  }\n}).addInterfaces([ProductInterface]);\n\nProductInterface.addTypeResolver(SquareCatalogItem, value => value.dataSource === \"Square\").addTypeResolver(ShopifyProduct, value => value.dataSource === \"Shopify\").addTypeResolver(ExcelProduct, value => value.dataSource === \"Excel\");\nexports.MoneyTC = MoneyTC;\nexports.ProductInterface = ProductInterface;\nexports.SquareCatalogItem = SquareCatalogItem;\nexports.ShopifyProduct = ShopifyProduct;\nexports.ExcelProduct = ExcelProduct;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJEYXRhU291cmNlRW51bSIsInNjaGVtYUNvbXBvc2VyIiwiY3JlYXRlRW51bVRDIiwibmFtZSIsInZhbHVlcyIsIlNRVUFSRSIsInZhbHVlIiwiU0hPUElGWSIsIkVYQ0VMIiwiUHJvZHVjdEludGVyZmFjZSIsImNyZWF0ZUludGVyZmFjZVRDIiwiZGVzY3JpcHRpb24iLCJmaWVsZHMiLCJHcmFwaFFMU3RyaW5nIiwidmVuZG9yIiwiVmVuZG9yVEMiLCJkYXRhU291cmNlIiwiY2F0ZWdvcnkiLCJ0YWdzIiwiaW1hZ2UiLCJNb25leVRDIiwiY3JlYXRlT2JqZWN0VEMiLCJhbW91bnQiLCJHcmFwaFFMSW50IiwiY3VycmVuY3kiLCJTcXVhcmVDYXRhbG9nT2JqZWN0IiwidHlwZSIsImlkIiwiaXRlbURhdGEiLCJTcXVhcmVDYXRhbG9nSXRlbSIsIml0ZW1WYXJpYXRpb25EYXRhIiwiU3F1YXJlQ2F0YWxvZ0l0ZW1WYXJpYXRpb24iLCJtb2RpZmllckxpc3REYXRhIiwiTW9kaWZpZXJMaXN0VEMiLCJtb2RpZmllckRhdGEiLCJNb2RpZmllclRDIiwiaXRlbUlEIiwicHJpY2VfbW9uZXkiLCJnZXRUeXBlIiwibW9kaWZpZXJMaXN0SW5mbyIsInZhcmlhdGlvbnMiLCJhZGRJbnRlcmZhY2VzIiwiU2hvcGlmeVByb2R1Y3QiLCJFeGNlbFByb2R1Y3QiLCJkYXlzT2ZmZXJlZCIsImFkZFR5cGVSZXNvbHZlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQVFBOztBQUVBOztBQUNBOztBQUVPLE1BQU1BLGNBQWMsV0FBZEEsY0FBYyxHQUFHQywrQkFBZUMsWUFBZixDQUE0QjtBQUN0REMsRUFBQUEsSUFBSSxFQUFFLGdCQURnRDtBQUV0REMsRUFBQUEsTUFBTSxFQUFFO0FBQ0pDLElBQUFBLE1BQU0sRUFBRTtBQUFFQyxNQUFBQSxLQUFLLEVBQUU7QUFBVCxLQURKO0FBRUpDLElBQUFBLE9BQU8sRUFBRTtBQUFF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b0IsY0FEa0IsQ0FDSDtBQUNabEIsRUFBQUEsSUFBSSxFQUFFLGdCQURNO0FBRVpRLEVBQUFBLFdBQVcsRUFBRSx3Q0FGRDtBQUdaQyxFQUFBQSxNQUFNLEVBQUU7QUFDSndCLElBQUFBLE1BQU0sRUFBRTtBQURKO0FBSEksQ0FERyxFQVFsQkssYUFSa0IsQ0FRSixDQUFDaEMsZ0JBQUQsQ0FSSSxDQUF2Qjs7QUFVQSxNQUFNa0MsWUFBWSxHQUFHMUMsK0JBQ2hCb0IsY0FEZ0IsQ0FDRDtBQUNabEIsRUFBQUEsSUFBSSxFQUFFLGNBRE07QUFFWlEsRUFBQUEsV0FBVyxFQUFFLHNDQUZEO0FBR1pDLEVBQUFBLE1BQU0sRUFBRTtBQUNKZ0MsSUFBQUEsV0FBVyxFQUFFO0FBRFQ7QUFISSxDQURDLEVBUWhCSCxhQVJnQixDQVFGLENBQUNoQyxnQkFBRCxDQVJFLENBQXJCOztBQVVBQSxnQkFBZ0IsQ0FBQ29DLGVBQWpCLENBQ0loQixpQkFESixFQUVLdkIsS0FBRCxJQUFXQSxLQUFLLENBQUNVLFVBQU4sS0FBcUIsUUFGcEMsRUFJSzZCLGVBSkwsQ0FJcUJILGNBSnJCLEVBSXNDcEMsS0FBRCxJQUFXQSxLQUFLLENBQUNVLFVBQU4sS0FBcUIsU0FKckUsRUFLSzZCLGVBTEwsQ0FLcUJGLFlBTHJCLEVBS29DckMsS0FBRCxJQUFXQSxLQUFLLENBQUNVLFVBQU4sS0FBcUIsT0FMbkU7UUFTSUksTyxHQUFBQSxPO1FBQ0FYLGdCLEdBQUFBLGdCO1FBQ0FvQixpQixHQUFBQSxpQjtRQUNBYSxjLEdBQUFBLGM7UUFDQUMsWSxHQUFBQSxZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgR3JhcGhRTEludCxcbiAgICBHcmFwaFFMU3RyaW5nLFxuICAgIEdyYXBoUUxOb25OdWxsLFxuICAgIEdyYXBoUUxCb29sZWFuLFxuICAgIEdyYXBoUUxMaXN0LFxuICAgIEdyYXBoUUxOdWxsYWJsZVR5cGUsXG59IGZyb20gXCJncmFwaHFsXCI7XG5pbXBvcnQgeyBzY2hlbWFDb21wb3NlciB9IGZyb20gXCJncmFwaHFsLWNvbXBvc2VcIjtcblxuaW1wb3J0IHsgVmVuZG9yVEMgfSBmcm9tIFwiLi9WZW5kb3JNb2RlbFwiO1xuaW1wb3J0IHsgTW9kaWZpZXJMaXN0VEMsIE1vZGlmaWVyVEMgfSBmcm9tIFwiLi9Nb2RpZmllck1vZGVsXCI7XG5cbmV4cG9ydCBjb25zdCBEYXRhU291cmNlRW51bSA9IHNjaGVtYUNvbXBvc2VyLmNyZWF0ZUVudW1UQyh7XG4gICAgbmFtZTogXCJEYXRhU291cmNlRW51bVwiLFxuICAgIHZhbHVlczoge1xuICAgICAgICBTUVVBUkU6IHsgdmFsdWU6IFwiU3F1YXJlXCIgfSxcbiAgICAgICAgU0hPUElGWTogeyB2YWx1ZTogXCJTaG9waWZ5XCIgfSxcbiAgICAgICAgRVhDRUw6IHsgdmFsdWU6IFwiRXhjZWxcIiB9LFxuICAgIH0sXG59KTtcblxuY29uc3QgUHJvZHVjdEludGVyZmFjZSA9IHNjaGVtYUNvbXBvc2VyLmNyZWF0ZUludGVyZmFjZVRDKHtcbiAgICBuYW1lOiBcIlByb2R1Y3RcIixcbiAgICBkZXNjcmlwdGlvbjogXCJUaGUgYmFzZSB0eXBlIGZvciBvdXIgcHJvZHVjdHNcIixcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgdmVuZG9yOiAoKSA9PiBWZW5kb3JUQyxcbiAgICAgICAgZGF0YVNvdXJjZTogKCkgPT4gRGF0YVNvdXJjZUVudW0sXG4gICAgICAgIGNhdGVnb3J5OiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgdGFnczogR3JhcGhRTE5vbk51bGwoR3JhcGhRTExpc3QoR3JhcGhRTFN0cmluZykpLFxuICAgICAgICBpbWFnZTogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgfSxcbn0pO1xuXG5jb25zdCBNb25leVRDID0gc2NoZW1hQ29tcG9zZXIuY3JlYXRlT2JqZWN0VEMoe1xuICAgIG5hbWU6IFwiTW9uZXlcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTcXVhcmUncyByZXByZXNlbnRhdGlvbiBvZiBtb25leVwiLFxuICAgIGZpZWxkczoge1xuICAgICAgICBhbW91bnQ6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxJbnQpLFxuICAgICAgICBjdXJyZW5jeTogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgfSxcbn0pO1xuXG5jb25zdCBTcXVhcmVDYXRhbG9nT2JqZWN0ID0gc2NoZW1hQ29tcG9zZXIuY3JlYXRlT2JqZWN0VEMoe1xuICAgIG5hbWU6IFwiQ2F0YWxvZ09iamVjdFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNhdGFsb2cgT2JqZWN0IHdyYXBwZXIgZGVmaW5lZCBieSBTcXVhcmVcIixcbiAgICBmaWVsZHM6IHtcbiAgICAgICAgdHlwZTogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgICAgIGlkOiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgLy8gTm9uTnVsbCBpZiB0eXBlIG1hdGNoZXM7IG51bGwgb3RoZXJ3aXNlXG4gICAgICAgIGl0ZW1EYXRhOiAoKSA9PiBTcXVhcmVDYXRhbG9nSXRlbSxcbiAgICAgICAgaXRlbVZhcmlhdGlvbkRhdGE6ICgpID0+IFNxdWFyZUNhdGFsb2dJdGVtVmFyaWF0aW9uLFxuICAgICAgICBtb2RpZmllckxpc3REYXRhOiAoKSA9PiBNb2RpZmllckxpc3RUQyxcbiAgICAgICAgbW9kaWZpZXJEYXRhOiAoKSA9PiBNb2RpZmllclRDLFxuICAgIH0sXG59KTtcblxuY29uc3QgU3F1YXJlQ2F0YWxvZ0l0ZW1WYXJpYXRpb24gPSBzY2hlbWFDb21wb3Nlci5jcmVhdGVPYmplY3RUQyh7XG4gICAgbmFtZTogXCJDYXRhbG9nSXRlbVZhcmlhdGlvblwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNhdGFsb2cgaXRlbSBmb3IgU3F1YXJlXCIsXG4gICAgZmllbGRzOiB7XG4gICAgICAgIGl0ZW1JRDogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgICAgIG5hbWU6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpLFxuICAgICAgICBwcmljZV9tb25leTogR3JhcGhRTE5vbk51bGwoTW9uZXlUQy5nZXRUeXBlKCkpLFxuICAgIH0sXG59KTtcblxuY29uc3QgU3F1YXJlQ2F0YWxvZ0l0ZW0gPSBzY2hlbWFDb21wb3NlclxuICAgIC5jcmVhdGVPYmplY3RUQyh7XG4gICAgICAgIG5hbWU6IFwiU3F1YXJlUHJvZHVjdFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQcm9kdWN0cyB3aXRoIFNxdWFyZSBhcyBhIGRhdGEgc291cmNlXCIsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgaXRlbUlEOiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgICAgIG1vZGlmaWVyTGlzdEluZm86IEdyYXBoUUxOb25OdWxsKFxuICAgICAgICAgICAgICAgIEdyYXBoUUxMaXN0KE1vZGlmaWVyTGlzdFRDLmdldFR5cGUoKSksXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdmFyaWF0aW9uczogR3JhcGhRTE5vbk51bGwoXG4gICAgICAgICAgICAgICAgR3JhcGhRTExpc3QoU3F1YXJlQ2F0YWxvZ0l0ZW1WYXJpYXRpb24uZ2V0VHlwZSgpKSxcbiAgICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgfSlcbiAgICAuYWRkSW50ZXJmYWNlcyhbUHJvZHVjdEludGVyZmFjZV0pO1xuXG4vLyBnbyB2aWN0b3IhISBnbyB2aWN0b3IhISBhbmQgd2lsbCEgYW5kIHdpbGwhXG5jb25zdCBTaG9waWZ5UHJvZHVjdCA9IHNjaGVtYUNvbXBvc2VyXG4gICAgLmNyZWF0ZU9iamVjdFRDKHtcbiAgICAgICAgbmFtZTogXCJTaG9waWZ5UHJvZHVjdFwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJQcm9kdWN0cyB3aXRoIFNob3BpZnkgYXMgYSBkYXRhIHNvdXJjZVwiLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGl0ZW1JRDogXCJTdHJpbmchXCIsXG4gICAgICAgIH0sXG4gICAgfSlcbiAgICAuYWRkSW50ZXJmYWNlcyhbUHJvZHVjdEludGVyZmFjZV0pO1xuXG5jb25zdCBFeGNlbFByb2R1Y3QgPSBzY2hlbWFDb21wb3NlclxuICAgIC5jcmVhdGVPYmplY3RUQyh7XG4gICAgICAgIG5hbWU6IFwiRXhjZWxQcm9kdWN0XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIlByb2R1Y3RzIHdpdGggRXhjZWwgYXMgYSBkYXRhIHNvdXJjZVwiLFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGRheXNPZmZlcmVkOiBcIltTdHJpbmddXCIsXG4gICAgICAgIH0sXG4gICAgfSlcbiAgICAuYWRkSW50ZXJmYWNlcyhbUHJvZHVjdEludGVyZmFjZV0pO1xuXG5Qcm9kdWN0SW50ZXJmYWNlLmFkZFR5cGVSZXNvbHZlcihcbiAgICBTcXVhcmVDYXRhbG9nSXRlbSxcbiAgICAodmFsdWUpID0+IHZhbHVlLmRhdGFTb3VyY2UgPT09IFwiU3F1YXJlXCIsXG4pXG4gICAgLmFkZFR5cGVSZXNvbHZlcihTaG9waWZ5UHJvZHVjdCwgKHZhbHVlKSA9PiB2YWx1ZS5kYXRhU291cmNlID09PSBcIlNob3BpZnlcIilcbiAgICAuYWRkVHlwZVJlc29sdmVyKEV4Y2VsUHJvZHVjdCwgKHZhbHVlKSA9PiB2YWx1ZS5kYXRhU291cmNlID09PSBcIkV4Y2VsXCIpO1xuXG5leHBvcnQge1xuICAgIC8vIERhdGFTb3VyY2VFbnVtLFxuICAgIE1vbmV5VEMsXG4gICAgUHJvZHVjdEludGVyZmFjZSxcbiAgICBTcXVhcmVDYXRhbG9nSXRlbSxcbiAgICBTaG9waWZ5UHJvZHVjdCxcbiAgICBFeGNlbFByb2R1Y3QsXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "ProductModel.js"
      ],
      "names": [
        "DataSourceEnum",
        "schemaComposer",
        "createEnumTC",
        "name",
        "values",
        "SQUARE",
        "value",
        "SHOPIFY",
        "EXCEL",
        "ProductInterface",
        "createInterfaceTC",
        "description",
        "fields",
        "GraphQLString",
        "vendor",
        "VendorTC",
        "dataSource",
        "category",
        "tags",
        "image",
        "MoneyTC",
        "createObjectTC",
        "amount",
        "GraphQLInt",
        "currency",
        "SquareCatalogObject",
        "type",
        "id",
        "itemData",
        "SquareCatalogItem",
        "itemVariationData",
        "SquareCatalogItemVariation",
        "modifierListData",
        "ModifierListTC",
        "modifierData",
        "ModifierTC",
        "itemID",
        "price_money",
        "getType",
        "modifierListInfo",
        "variations",
        "addInterfaces",
        "ShopifyProduct",
        "ExcelProduct",
        "daysOffered",
        "addTypeResolver"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import {\n    GraphQLInt,\n    GraphQLString,\n    GraphQLNonNull,\n    GraphQLBoolean,\n    GraphQLList,\n    GraphQLNullableType,\n} from \"graphql\";\nimport { schemaComposer } from \"graphql-compose\";\n\nimport { VendorTC } from \"./VendorModel\";\nimport { ModifierListTC, ModifierTC } from \"./ModifierModel\";\n\nexport const DataSourceEnum = schemaComposer.createEnumTC({\n    name: \"DataSourceEnum\",\n    values: {\n        SQUARE: { value: \"Square\" },\n        SHOPIFY: { value: \"Shopify\" },\n        EXCEL: { value: \"Excel\" },\n    },\n});\n\nconst ProductInterface = schemaComposer.createInterfaceTC({\n    name: \"Product\",\n    description: \"The base type for our products\",\n    fields: {\n        name: GraphQLNonNull(GraphQLString),\n        description: GraphQLNonNull(GraphQLString),\n        vendor: () => VendorTC,\n        dataSource: () => DataSourceEnum,\n        category: GraphQLNonNull(GraphQLString),\n        tags: GraphQLNonNull(GraphQLList(GraphQLString)),\n        image: GraphQLNonNull(GraphQLString),\n    },\n});\n\nconst MoneyTC = schemaComposer.createObjectTC({\n    name: \"Money\",\n    description: \"Square's representation of money\",\n    fields: {\n        amount: GraphQLNonNull(GraphQLInt),\n        currency: GraphQLNonNull(GraphQLString),\n    },\n});\n\nconst SquareCatalogObject = schemaComposer.createObjectTC({\n    name: \"CatalogObject\",\n    description: \"Catalog Object wrapper defined by Square\",\n    fields: {\n        type: GraphQLNonNull(GraphQLString),\n        id: GraphQLNonNull(GraphQLString),\n        // NonNull if type matches; null otherwise\n        itemData: () => SquareCatalogItem,\n        itemVariationData: () => SquareCatalogItemVariation,\n        modifierListData: () => ModifierListTC,\n        modifierData: () => ModifierTC,\n    },\n});\n\nconst SquareCatalogItemVariation = schemaComposer.createObjectTC({\n    name: \"CatalogItemVariation\",\n    description: \"Catalog item for Square\",\n    fields: {\n        itemID: GraphQLNonNull(GraphQLString),\n        name: GraphQLNonNull(GraphQLString),\n        price_money: GraphQLNonNull(MoneyTC.getType()),\n    },\n});\n\nconst SquareCatalogItem = schemaComposer\n    .createObjectTC({\n        name: \"SquareProduct\",\n        description: \"Products with Square as a data source\",\n        fields: {\n            itemID: GraphQLNonNull(GraphQLString),\n            modifierListInfo: GraphQLNonNull(\n                GraphQLList(ModifierListTC.getType()),\n            ),\n            variations: GraphQLNonNull(\n                GraphQLList(SquareCatalogItemVariation.getType()),\n            ),\n        },\n    })\n    .addInterfaces([ProductInterface]);\n\n// go victor!! go victor!! and will! and will!\nconst ShopifyProduct = schemaComposer\n    .createObjectTC({\n        name: \"ShopifyProduct\",\n        description: \"Products with Shopify as a data source\",\n        fields: {\n            itemID: \"String!\",\n        },\n    })\n    .addInterfaces([ProductInterface]);\n\nconst ExcelProduct = schemaComposer\n    .createObjectTC({\n        name: \"ExcelProduct\",\n        description: \"Products with Excel as a data source\",\n        fields: {\n            daysOffered: \"[String]\",\n        },\n    })\n    .addInterfaces([ProductInterface]);\n\nProductInterface.addTypeResolver(\n    SquareCatalogItem,\n    (value) => value.dataSource === \"Square\",\n)\n    .addTypeResolver(ShopifyProduct, (value) => value.dataSource === \"Shopify\")\n    .addTypeResolver(ExcelProduct, (value) => value.dataSource === \"Excel\");\n\nexport {\n    // DataSourceEnum,\n    MoneyTC,\n    ProductInterface,\n    SquareCatalogItem,\n    ShopifyProduct,\n    ExcelProduct,\n};\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595809305691
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ModifierModel.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ModifierModel.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ModifierModel.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/ModifierModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
        "sourceFileName": "ModifierModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModifierTC = exports.ModifierListTC = undefined;\n\nvar _graphqlCompose = require(\"graphql-compose\");\n\nvar _index = require(\"./index\");\n\nvar _graphql = require(\"graphql\");\n\nconst ModifierTC = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"Modifier\",\n  description: \"\",\n  fields: {\n    name: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    price: () => _index.Money // change to money\n\n  }\n});\n\nconst ModifierListTC = _graphqlCompose.schemaComposer.createObjectTC({\n  name: \"ModifierList\",\n  description: \"\",\n  fields: {\n    name: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    description: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    displayQuestion: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    selectionType: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLBoolean),\n    modifiers: () => (0, _graphql.GraphQLNonNull)(_graphql.GraphQLString),\n    // From CatalogItemModifierListInfo\n    minSelected: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLInt),\n    maxSelected: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLInt),\n    enabled: (0, _graphql.GraphQLNonNull)(_graphql.GraphQLBoolean)\n  }\n});\n\nexports.ModifierListTC = ModifierListTC;\nexports.ModifierTC = ModifierTC;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1vZGlmaWVyTW9kZWwuanMiXSwibmFtZXMiOlsiTW9kaWZpZXJUQyIsInNjaGVtYUNvbXBvc2VyIiwiY3JlYXRlT2JqZWN0VEMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJmaWVsZHMiLCJHcmFwaFFMU3RyaW5nIiwicHJpY2UiLCJNb25leSIsIk1vZGlmaWVyTGlzdFRDIiwiZGlzcGxheVF1ZXN0aW9uIiwic2VsZWN0aW9uVHlwZSIsIkdyYXBoUUxCb29sZWFuIiwibW9kaWZpZXJzIiwibWluU2VsZWN0ZWQiLCJHcmFwaFFMSW50IiwibWF4U2VsZWN0ZWQiLCJlbmFibGVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsTUFBTUEsVUFBVSxHQUFHQywrQkFBZUMsY0FBZixDQUE4QjtBQUM3Q0MsRUFBQUEsSUFBSSxFQUFFLFVBRHVDO0FBRTdDQyxFQUFBQSxXQUFXLEVBQUUsRUFGZ0M7QUFHN0NDLEVBQUFBLE1BQU0sRUFBRTtBQUNKRixJQUFBQSxJQUFJLEVBQUUsNkJBQWVHLHNCQUFmLENBREY7QUFFSkMsSUFBQUEsS0FBSyxFQUFFLE1BQU1DLFlBRlQsQ0FFZ0I7O0FBRmhCO0FBSHFDLENBQTlCLENBQW5COztBQVNBLE1BQU1DLGNBQWMsR0FBR1IsK0JBQWVDLGNBQWYsQ0FBOEI7QUFDakRDLEVBQUFBLElBQUksRUFBRSxjQUQyQztBQUVqREMsRUFBQUEsV0FBVyxFQUFFLEVBRm9DO0FBR2pEQyxFQUFBQSxNQUFNLEVBQUU7QUFDSkYsSUFBQUEsSUFBSSxFQUFFLDZCQUFlRyxzQkFBZixDQURGO0FBRUpGLElBQUFBLFdBQVcsRUFBRSw2QkFBZUUsc0JBQWYsQ0FGVDtBQUdKSSxJQUFBQSxlQUFlLEVBQUUsNkJBQWVKLHNCQUFmLENBSGI7QUFJSkssSUFBQUEsYUFBYSxFQUFFLDZCQUFlQyx1QkFBZixDQUpYO0FBS0pDLElBQUFBLFNBQVMsRUFBRSxNQUFNLDZCQUFlUCxzQkFBZixDQUxiO0FBTUo7QUFDQVEsSUFBQUEsV0FBVyxFQUFFLDZCQUFlQyxtQkFBZixDQVBUO0FBUUpDLElBQUFBLFdBQVcsRUFBRSw2QkFBZUQsbUJBQWYsQ0FSVDtBQVNKRSxJQUFBQSxPQUFPLEVBQUUsNkJBQWVMLHVCQUFmO0FBVEw7QUFIeUMsQ0FBOUIsQ0FBdkI7O1FBZ0JTSCxjLEdBQUFBLGM7UUFBZ0JULFUsR0FBQUEsVSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdnNvbmcvRG93bmxvYWRzL2Z1bi1jb2RlL0hlZHdpZ1VuaWZpZWQvYXBpL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzY2hlbWFDb21wb3NlciB9IGZyb20gXCJncmFwaHFsLWNvbXBvc2VcIjtcbmltcG9ydCB7IE1vbmV5IH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IEdyYXBoUUxCb29sZWFuLCBHcmFwaFFMU3RyaW5nLCBHcmFwaFFMSW50LCBHcmFwaFFMTm9uTnVsbCB9IGZyb20gXCJncmFwaHFsXCI7XG5cbmNvbnN0IE1vZGlmaWVyVEMgPSBzY2hlbWFDb21wb3Nlci5jcmVhdGVPYmplY3RUQyh7XG4gICAgbmFtZTogXCJNb2RpZmllclwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlwiLFxuICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgcHJpY2U6ICgpID0+IE1vbmV5LCAvLyBjaGFuZ2UgdG8gbW9uZXlcbiAgICB9LFxufSk7XG5cbmNvbnN0IE1vZGlmaWVyTGlzdFRDID0gc2NoZW1hQ29tcG9zZXIuY3JlYXRlT2JqZWN0VEMoe1xuICAgIG5hbWU6IFwiTW9kaWZpZXJMaXN0XCIsXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXG4gICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxTdHJpbmcpLFxuICAgICAgICBkZXNjcmlwdGlvbjogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgICAgIGRpc3BsYXlRdWVzdGlvbjogR3JhcGhRTE5vbk51bGwoR3JhcGhRTFN0cmluZyksXG4gICAgICAgIHNlbGVjdGlvblR5cGU6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxCb29sZWFuKSxcbiAgICAgICAgbW9kaWZpZXJzOiAoKSA9PiBHcmFwaFFMTm9uTnVsbChHcmFwaFFMU3RyaW5nKSxcbiAgICAgICAgLy8gRnJvbSBDYXRhbG9nSXRlbU1vZGlmaWVyTGlzdEluZm9cbiAgICAgICAgbWluU2VsZWN0ZWQ6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxJbnQpLFxuICAgICAgICBtYXhTZWxlY3RlZDogR3JhcGhRTE5vbk51bGwoR3JhcGhRTEludCksXG4gICAgICAgIGVuYWJsZWQ6IEdyYXBoUUxOb25OdWxsKEdyYXBoUUxCb29sZWFuKSxcbiAgICB9LFxufSk7XG5cbmV4cG9ydCB7IE1vZGlmaWVyTGlzdFRDLCBNb2RpZmllclRDIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "ModifierModel.js"
      ],
      "names": [
        "ModifierTC",
        "schemaComposer",
        "createObjectTC",
        "name",
        "description",
        "fields",
        "GraphQLString",
        "price",
        "Money",
        "ModifierListTC",
        "displayQuestion",
        "selectionType",
        "GraphQLBoolean",
        "modifiers",
        "minSelected",
        "GraphQLInt",
        "maxSelected",
        "enabled"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,UAAU,GAAGC,+BAAeC,cAAf,CAA8B;AAC7CC,EAAAA,IAAI,EAAE,UADuC;AAE7CC,EAAAA,WAAW,EAAE,EAFgC;AAG7CC,EAAAA,MAAM,EAAE;AACJF,IAAAA,IAAI,EAAE,6BAAeG,sBAAf,CADF;AAEJC,IAAAA,KAAK,EAAE,MAAMC,YAFT,CAEgB;;AAFhB;AAHqC,CAA9B,CAAnB;;AASA,MAAMC,cAAc,GAAGR,+BAAeC,cAAf,CAA8B;AACjDC,EAAAA,IAAI,EAAE,cAD2C;AAEjDC,EAAAA,WAAW,EAAE,EAFoC;AAGjDC,EAAAA,MAAM,EAAE;AACJF,IAAAA,IAAI,EAAE,6BAAeG,sBAAf,CADF;AAEJF,IAAAA,WAAW,EAAE,6BAAeE,sBAAf,CAFT;AAGJI,IAAAA,eAAe,EAAE,6BAAeJ,sBAAf,CAHb;AAIJK,IAAAA,aAAa,EAAE,6BAAeC,uBAAf,CAJX;AAKJC,IAAAA,SAAS,EAAE,MAAM,6BAAeP,sBAAf,CALb;AAMJ;AACAQ,IAAAA,WAAW,EAAE,6BAAeC,mBAAf,CAPT;AAQJC,IAAAA,WAAW,EAAE,6BAAeD,mBAAf,CART;AASJE,IAAAA,OAAO,EAAE,6BAAeL,uBAAf;AATL;AAHyC,CAA9B,CAAvB;;QAgBSH,c,GAAAA,c;QAAgBT,U,GAAAA,U",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/models/",
      "sourcesContent": [
        "import { schemaComposer } from \"graphql-compose\";\nimport { Money } from \"./index\";\nimport { GraphQLBoolean, GraphQLString, GraphQLInt, GraphQLNonNull } from \"graphql\";\n\nconst ModifierTC = schemaComposer.createObjectTC({\n    name: \"Modifier\",\n    description: \"\",\n    fields: {\n        name: GraphQLNonNull(GraphQLString),\n        price: () => Money, // change to money\n    },\n});\n\nconst ModifierListTC = schemaComposer.createObjectTC({\n    name: \"ModifierList\",\n    description: \"\",\n    fields: {\n        name: GraphQLNonNull(GraphQLString),\n        description: GraphQLNonNull(GraphQLString),\n        displayQuestion: GraphQLNonNull(GraphQLString),\n        selectionType: GraphQLNonNull(GraphQLBoolean),\n        modifiers: () => GraphQLNonNull(GraphQLString),\n        // From CatalogItemModifierListInfo\n        minSelected: GraphQLNonNull(GraphQLInt),\n        maxSelected: GraphQLNonNull(GraphQLInt),\n        enabled: GraphQLNonNull(GraphQLBoolean),\n    },\n});\n\nexport { ModifierListTC, ModifierTC };\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595809277564
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/authenticationUtils.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/authenticationUtils.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/authenticationUtils.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/authenticationUtils.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/",
        "sourceFileName": "authenticationUtils.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authenticateTicket = exports.verifyToken = exports.getUserFromToken = exports.createToken = undefined;\n\nvar _axios = require(\"axios\");\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _config = require(\"../config\");\n\nvar _models = require(\"../models\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// This will be created when the user logs in\nconst jwt = require(\"jsonwebtoken\");\n\nconst xml2js = require(\"xml2js\");\n\nconst {\n  stripPrefix\n} = require(\"xml2js\").processors;\n/**\n * Parser used for XML response by CAS\n */\n\n\nconst parser = new xml2js.Parser({\n  tagNameProcessors: [stripPrefix],\n  explicitArray: false\n});\n/**\n * Default failure response when authentication / verification doesn't work.\n */\n\nconst failureResponse = {\n  success: false\n};\nconst config = {\n  CASValidateURL: \"https://idp.rice.edu/idp/profile/cas/serviceValidate\"\n};\n/**\n * Given a user, creates a new token for them.\n */\n\nconst createToken = exports.createToken = user => {\n  const token = jwt.sign({\n    id: user._id,\n    netid: user.netid\n  }, _config.SECRET, {\n    expiresIn: 129600\n  });\n  return token;\n};\n/**\n * Given a token, finds the associated user.\n */\n\n\nconst getUserFromToken = exports.getUserFromToken = async token => {\n  const user = await _models.User.find({\n    token\n  });\n  return user;\n};\n/**\n * Given a token, verifies that it is still valid.\n */\n\n\nconst verifyToken = exports.verifyToken = async token => {\n  try {\n    // In the future, we may need the other properties...\n    const {\n      id,\n      netid,\n      iat,\n      exp\n    } = await jwt.verify(token, _config.SECRET);\n    return {\n      success: true,\n      id\n    };\n  } catch (e) {\n    return failureResponse;\n  }\n};\n/**\n * Given a ticket, authenticates it and returns the corresponding netid of the now-authenticated user.\n */\n\n\nconst authenticateTicket = exports.authenticateTicket = async ticket => {\n  try {\n    // validate our ticket against the CAS server\n    const url = `${config.CASValidateURL}?ticket=${ticket}&service=${_config.SERVICE_URL}`; // First validate ticket against CAS, get a data object back\n\n    const {\n      data\n    } = await _axios2.default.get(url); // Parse returned XML data with xml2js parser\n\n    return parser.parseStringPromise(data).then(parsedResponse => {\n      const {\n        serviceResponse\n      } = parsedResponse; // This object contains the information as to whether this login was successful\n\n      const authSucceded = serviceResponse.authenticationSuccess;\n\n      if (authSucceded) {\n        // authSucceded.user is the netid\n        const netid = authSucceded.user;\n        return {\n          success: true,\n          netid\n        };\n      }\n\n      return failureResponse;\n    }, err => {\n      console.log(\"Error!\");\n      return failureResponse;\n    });\n  } catch (e) {\n    console.log(\"Something went wrong.\");\n    return failureResponse;\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhlbnRpY2F0aW9uVXRpbHMuanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsInhtbDJqcyIsInN0cmlwUHJlZml4IiwicHJvY2Vzc29ycyIsInBhcnNlciIsIlBhcnNlciIsInRhZ05hbWVQcm9jZXNzb3JzIiwiZXhwbGljaXRBcnJheSIsImZhaWx1cmVSZXNwb25zZSIsInN1Y2Nlc3MiLCJjb25maWciLCJDQVNWYWxpZGF0ZVVSTCIsImNyZWF0ZVRva2VuIiwidXNlciIsInRva2VuIiwic2lnbiIsImlkIiwiX2lkIiwibmV0aWQiLCJTRUNSRVQiLCJleHBpcmVzSW4iLCJnZXRVc2VyRnJvbVRva2VuIiwiVXNlciIsImZpbmQiLCJ2ZXJpZnlUb2tlbiIsImlhdCIsImV4cCIsInZlcmlmeSIsImUiLCJhdXRoZW50aWNhdGVUaWNrZXQiLCJ0aWNrZXQiLCJ1cmwiLCJTRVJWSUNFX1VSTCIsImRhdGEiLCJheGlvcyIsImdldCIsInBhcnNlU3RyaW5nUHJvbWlzZSIsInRoZW4iLCJwYXJzZWRSZXNwb25zZSIsInNlcnZpY2VSZXNwb25zZSIsImF1dGhTdWNjZWRlZCIsImF1dGhlbnRpY2F0aW9uU3VjY2VzcyIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7OztBQUVBOztBQUNBOzs7O0FBSkE7QUFNQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQW5COztBQUVBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBdEI7O0FBQ0EsTUFBTTtBQUFFRSxFQUFBQTtBQUFGLElBQWtCRixPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCRyxVQUExQztBQUVBOzs7OztBQUdBLE1BQU1DLE1BQU0sR0FBRyxJQUFJSCxNQUFNLENBQUNJLE1BQVgsQ0FBa0I7QUFDN0JDLEVBQUFBLGlCQUFpQixFQUFFLENBQUNKLFdBQUQsQ0FEVTtBQUU3QkssRUFBQUEsYUFBYSxFQUFFO0FBRmMsQ0FBbEIsQ0FBZjtBQUtBOzs7O0FBR0EsTUFBTUMsZUFBZSxHQUFHO0FBQUVDLEVBQUFBLE9BQU8sRUFBRTtBQUFYLENBQXhCO0FBRUEsTUFBTUMsTUFBTSxHQUFHO0FBQ1hDLEVBQUFBLGNBQWMsRUFBRTtBQURMLENBQWY7QUFJQTs7OztBQUdPLE1BQU1DLFdBQVcsV0FBWEEsV0FBVyxHQUFJQyxJQUFELElBQVU7QUFDakMsUUFBTUMsS0FBSyxHQUFHZixHQUFHLENBQUNnQixJQUFKLENBQ1Y7QUFDSUMsSUFBQUEsRUFBRSxFQUFFSCxJQUFJLENBQUNJLEdBRGI7QUFFSUMsSUFBQUEsS0FBSyxFQUFFTCxJQUFJLENBQUNLO0FBRmhCLEdBRFUsRUFLVkMsY0FMVSxFQU1WO0FBQUVDLElBQUFBLFNBQVMsRUFBRTtBQUFiLEdBTlUsQ0FBZDtBQVFBLFNBQU9OLEtBQVA7QUFDSCxDQVZNO0FBWVA7Ozs7O0FBR08sTUFBTU8sZ0JBQWdCLFdBQWhCQSxnQkFBZ0IsR0FBRyxNQUFPUCxLQUFQLElBQWlCO0FBQzdDLFFBQU1ELElBQUksR0FBRyxNQUFNUyxhQUFLQyxJQUFMLENBQVU7QUFBRVQsSUFBQUE7QUFBRixHQUFWLENBQW5CO0FBQ0EsU0FBT0QsSUFBUDtBQUNILENBSE07QUFLUDs7Ozs7QUFHTyxNQUFNVyxXQUFXLFdBQVhBLFdBQVcsR0FBRyxNQUFPVixLQUFQLElBQWlCO0FBQ3hDLE1BQUk7QUFDQTtBQUNBLFVBQU07QUFBRUUsTUFBQUEsRUFBRjtBQUFNRSxNQUFBQSxLQUFOO0FBQWFPLE1BQUFBLEdBQWI7QUFBa0JDLE1BQUFBO0FBQWxCLFFBQTBCLE1BQU0zQixHQUFHLENBQUM0QixNQUFKLENBQVdiLEtBQVgsRUFBa0JLLGNBQWxCLENBQXRDO0FBQ0EsV0FBTztBQUFFVixNQUFBQSxPQUFPLEVBQUUsSUFBWDtBQUFpQk8sTUFBQUE7QUFBakIsS0FBUDtBQUNILEdBSkQsQ0FJRSxPQUFPWSxDQUFQLEVBQVU7QUFDUixXQUFPcEIsZUFBUDtBQUNIO0FBQ0osQ0FSTTtBQVVQOzs7OztBQUdPLE1BQU1xQixrQkFBa0IsV0FBbEJBLGtCQUFrQixHQUFHLE1BQU9DLE1BQVAsSUFBa0I7QUFDaEQsTUFBSTtBQUNBO0FBQ0EsVUFBTUMsR0FBRyxHQUFJLEdBQUVyQixNQUFNLENBQUNDLGNBQWUsV0FBVW1CLE1BQU8sWUFBV0UsbUJBQVksRUFBN0UsQ0FGQSxDQUlBOztBQUNBLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFXLE1BQU1DLGdCQUFNQyxHQUFOLENBQVVKLEdBQVYsQ0FBdkIsQ0FMQSxDQU9BOztBQUNBLFdBQU8zQixNQUFNLENBQUNnQyxrQkFBUCxDQUEwQkgsSUFBMUIsRUFBZ0NJLElBQWhDLENBQ0ZDLGNBQUQsSUFBb0I7QUFDaEIsWUFBTTtBQUFFQyxRQUFBQTtBQUFGLFVBQXNCRCxjQUE1QixDQURnQixDQUVoQjs7QUFDQSxZQUFNRSxZQUFZLEdBQUdELGVBQWUsQ0FBQ0UscUJBQXJDOztBQUNBLFVBQUlELFlBQUosRUFBa0I7QUFDZDtBQUNBLGNBQU10QixLQUFLLEdBQUdzQixZQUFZLENBQUMzQixJQUEzQjtBQUNBLGVBQU87QUFBRUosVUFBQUEsT0FBTyxFQUFFLElBQVg7QUFBaUJTLFVBQUFBO0FBQWpCLFNBQVA7QUFDSDs7QUFDRCxhQUFPVixlQUFQO0FBQ0gsS0FYRSxFQVlGa0MsR0FBRCxJQUFTO0FBQ0xDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVo7QUFDQSxhQUFPcEMsZUFBUDtBQUNILEtBZkUsQ0FBUDtBQWlCSCxHQXpCRCxDQXlCRSxPQUFPb0IsQ0FBUCxFQUFVO0FBQ1JlLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHVCQUFaO0FBQ0EsV0FBT3BDLGVBQVA7QUFDSDtBQUNKLENBOUJNIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvdXRpbHMvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyB3aWxsIGJlIGNyZWF0ZWQgd2hlbiB0aGUgdXNlciBsb2dzIGluXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmltcG9ydCB7IFNFQ1JFVCwgU0VSVklDRV9VUkwgfSBmcm9tIFwiLi4vY29uZmlnXCI7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSBcIi4uL21vZGVsc1wiO1xuXG5jb25zdCBqd3QgPSByZXF1aXJlKFwianNvbndlYnRva2VuXCIpO1xuXG5jb25zdCB4bWwyanMgPSByZXF1aXJlKFwieG1sMmpzXCIpO1xuY29uc3QgeyBzdHJpcFByZWZpeCB9ID0gcmVxdWlyZShcInhtbDJqc1wiKS5wcm9jZXNzb3JzO1xuXG4vKipcbiAqIFBhcnNlciB1c2VkIGZvciBYTUwgcmVzcG9uc2UgYnkgQ0FTXG4gKi9cbmNvbnN0IHBhcnNlciA9IG5ldyB4bWwyanMuUGFyc2VyKHtcbiAgICB0YWdOYW1lUHJvY2Vzc29yczogW3N0cmlwUHJlZml4XSxcbiAgICBleHBsaWNpdEFycmF5OiBmYWxzZSxcbn0pO1xuXG4vKipcbiAqIERlZmF1bHQgZmFpbHVyZSByZXNwb25zZSB3aGVuIGF1dGhlbnRpY2F0aW9uIC8gdmVyaWZpY2F0aW9uIGRvZXNuJ3Qgd29yay5cbiAqL1xuY29uc3QgZmFpbHVyZVJlc3BvbnNlID0geyBzdWNjZXNzOiBmYWxzZSB9O1xuXG5jb25zdCBjb25maWcgPSB7XG4gICAgQ0FTVmFsaWRhdGVVUkw6IFwiaHR0cHM6Ly9pZHAucmljZS5lZHUvaWRwL3Byb2ZpbGUvY2FzL3NlcnZpY2VWYWxpZGF0ZVwiLFxufTtcblxuLyoqXG4gKiBHaXZlbiBhIHVzZXIsIGNyZWF0ZXMgYSBuZXcgdG9rZW4gZm9yIHRoZW0uXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVUb2tlbiA9ICh1c2VyKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6IHVzZXIuX2lkLFxuICAgICAgICAgICAgbmV0aWQ6IHVzZXIubmV0aWQsXG4gICAgICAgIH0sXG4gICAgICAgIFNFQ1JFVCxcbiAgICAgICAgeyBleHBpcmVzSW46IDEyOTYwMCB9LFxuICAgICk7XG4gICAgcmV0dXJuIHRva2VuO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIHRva2VuLCBmaW5kcyB0aGUgYXNzb2NpYXRlZCB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VXNlckZyb21Ub2tlbiA9IGFzeW5jICh0b2tlbikgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmQoeyB0b2tlbiB9KTtcbiAgICByZXR1cm4gdXNlcjtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSB0b2tlbiwgdmVyaWZpZXMgdGhhdCBpdCBpcyBzdGlsbCB2YWxpZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHZlcmlmeVRva2VuID0gYXN5bmMgKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gSW4gdGhlIGZ1dHVyZSwgd2UgbWF5IG5lZWQgdGhlIG90aGVyIHByb3BlcnRpZXMuLi5cbiAgICAgICAgY29uc3QgeyBpZCwgbmV0aWQsIGlhdCwgZXhwIH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCBTRUNSRVQpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBpZCB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhaWx1cmVSZXNwb25zZTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEdpdmVuIGEgdGlja2V0LCBhdXRoZW50aWNhdGVzIGl0IGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIG5ldGlkIG9mIHRoZSBub3ctYXV0aGVudGljYXRlZCB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlVGlja2V0ID0gYXN5bmMgKHRpY2tldCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIHZhbGlkYXRlIG91ciB0aWNrZXQgYWdhaW5zdCB0aGUgQ0FTIHNlcnZlclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtjb25maWcuQ0FTVmFsaWRhdGVVUkx9P3RpY2tldD0ke3RpY2tldH0mc2VydmljZT0ke1NFUlZJQ0VfVVJMfWA7XG5cbiAgICAgICAgLy8gRmlyc3QgdmFsaWRhdGUgdGlja2V0IGFnYWluc3QgQ0FTLCBnZXQgYSBkYXRhIG9iamVjdCBiYWNrXG4gICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgYXhpb3MuZ2V0KHVybCk7XG5cbiAgICAgICAgLy8gUGFyc2UgcmV0dXJuZWQgWE1MIGRhdGEgd2l0aCB4bWwyanMgcGFyc2VyXG4gICAgICAgIHJldHVybiBwYXJzZXIucGFyc2VTdHJpbmdQcm9taXNlKGRhdGEpLnRoZW4oXG4gICAgICAgICAgICAocGFyc2VkUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcnZpY2VSZXNwb25zZSB9ID0gcGFyc2VkUmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIGFzIHRvIHdoZXRoZXIgdGhpcyBsb2dpbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgIGNvbnN0IGF1dGhTdWNjZWRlZCA9IHNlcnZpY2VSZXNwb25zZS5hdXRoZW50aWNhdGlvblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgaWYgKGF1dGhTdWNjZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBhdXRoU3VjY2VkZWQudXNlciBpcyB0aGUgbmV0aWRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV0aWQgPSBhdXRoU3VjY2VkZWQudXNlcjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbmV0aWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmVSZXNwb25zZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWx1cmVSZXNwb25zZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNvbWV0aGluZyB3ZW50IHdyb25nLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhaWx1cmVSZXNwb25zZTtcbiAgICB9XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "authenticationUtils.js"
      ],
      "names": [
        "jwt",
        "require",
        "xml2js",
        "stripPrefix",
        "processors",
        "parser",
        "Parser",
        "tagNameProcessors",
        "explicitArray",
        "failureResponse",
        "success",
        "config",
        "CASValidateURL",
        "createToken",
        "user",
        "token",
        "sign",
        "id",
        "_id",
        "netid",
        "SECRET",
        "expiresIn",
        "getUserFromToken",
        "User",
        "find",
        "verifyToken",
        "iat",
        "exp",
        "verify",
        "e",
        "authenticateTicket",
        "ticket",
        "url",
        "SERVICE_URL",
        "data",
        "axios",
        "get",
        "parseStringPromise",
        "then",
        "parsedResponse",
        "serviceResponse",
        "authSucceded",
        "authenticationSuccess",
        "err",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AACA;;;;AAEA;;AACA;;;;AAJA;AAMA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEA,MAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAM;AAAEE,EAAAA;AAAF,IAAkBF,OAAO,CAAC,QAAD,CAAP,CAAkBG,UAA1C;AAEA;;;;;AAGA,MAAMC,MAAM,GAAG,IAAIH,MAAM,CAACI,MAAX,CAAkB;AAC7BC,EAAAA,iBAAiB,EAAE,CAACJ,WAAD,CADU;AAE7BK,EAAAA,aAAa,EAAE;AAFc,CAAlB,CAAf;AAKA;;;;AAGA,MAAMC,eAAe,GAAG;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAxB;AAEA,MAAMC,MAAM,GAAG;AACXC,EAAAA,cAAc,EAAE;AADL,CAAf;AAIA;;;;AAGO,MAAMC,WAAW,WAAXA,WAAW,GAAIC,IAAD,IAAU;AACjC,QAAMC,KAAK,GAAGf,GAAG,CAACgB,IAAJ,CACV;AACIC,IAAAA,EAAE,EAAEH,IAAI,CAACI,GADb;AAEIC,IAAAA,KAAK,EAAEL,IAAI,CAACK;AAFhB,GADU,EAKVC,cALU,EAMV;AAAEC,IAAAA,SAAS,EAAE;AAAb,GANU,CAAd;AAQA,SAAON,KAAP;AACH,CAVM;AAYP;;;;;AAGO,MAAMO,gBAAgB,WAAhBA,gBAAgB,GAAG,MAAOP,KAAP,IAAiB;AAC7C,QAAMD,IAAI,GAAG,MAAMS,aAAKC,IAAL,CAAU;AAAET,IAAAA;AAAF,GAAV,CAAnB;AACA,SAAOD,IAAP;AACH,CAHM;AAKP;;;;;AAGO,MAAMW,WAAW,WAAXA,WAAW,GAAG,MAAOV,KAAP,IAAiB;AACxC,MAAI;AACA;AACA,UAAM;AAAEE,MAAAA,EAAF;AAAME,MAAAA,KAAN;AAAaO,MAAAA,GAAb;AAAkBC,MAAAA;AAAlB,QAA0B,MAAM3B,GAAG,CAAC4B,MAAJ,CAAWb,KAAX,EAAkBK,cAAlB,CAAtC;AACA,WAAO;AAAEV,MAAAA,OAAO,EAAE,IAAX;AAAiBO,MAAAA;AAAjB,KAAP;AACH,GAJD,CAIE,OAAOY,CAAP,EAAU;AACR,WAAOpB,eAAP;AACH;AACJ,CARM;AAUP;;;;;AAGO,MAAMqB,kBAAkB,WAAlBA,kBAAkB,GAAG,MAAOC,MAAP,IAAkB;AAChD,MAAI;AACA;AACA,UAAMC,GAAG,GAAI,GAAErB,MAAM,CAACC,cAAe,WAAUmB,MAAO,YAAWE,mBAAY,EAA7E,CAFA,CAIA;;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMC,gBAAMC,GAAN,CAAUJ,GAAV,CAAvB,CALA,CAOA;;AACA,WAAO3B,MAAM,CAACgC,kBAAP,CAA0BH,IAA1B,EAAgCI,IAAhC,CACFC,cAAD,IAAoB;AAChB,YAAM;AAAEC,QAAAA;AAAF,UAAsBD,cAA5B,CADgB,CAEhB;;AACA,YAAME,YAAY,GAAGD,eAAe,CAACE,qBAArC;;AACA,UAAID,YAAJ,EAAkB;AACd;AACA,cAAMtB,KAAK,GAAGsB,YAAY,CAAC3B,IAA3B;AACA,eAAO;AAAEJ,UAAAA,OAAO,EAAE,IAAX;AAAiBS,UAAAA;AAAjB,SAAP;AACH;;AACD,aAAOV,eAAP;AACH,KAXE,EAYFkC,GAAD,IAAS;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aAAOpC,eAAP;AACH,KAfE,CAAP;AAiBH,GAzBD,CAyBE,OAAOoB,CAAP,EAAU;AACRe,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,WAAOpC,eAAP;AACH;AACJ,CA9BM",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/utils/",
      "sourcesContent": [
        "// This will be created when the user logs in\nimport axios from \"axios\";\n\nimport { SECRET, SERVICE_URL } from \"../config\";\nimport { User } from \"../models\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst xml2js = require(\"xml2js\");\nconst { stripPrefix } = require(\"xml2js\").processors;\n\n/**\n * Parser used for XML response by CAS\n */\nconst parser = new xml2js.Parser({\n    tagNameProcessors: [stripPrefix],\n    explicitArray: false,\n});\n\n/**\n * Default failure response when authentication / verification doesn't work.\n */\nconst failureResponse = { success: false };\n\nconst config = {\n    CASValidateURL: \"https://idp.rice.edu/idp/profile/cas/serviceValidate\",\n};\n\n/**\n * Given a user, creates a new token for them.\n */\nexport const createToken = (user) => {\n    const token = jwt.sign(\n        {\n            id: user._id,\n            netid: user.netid,\n        },\n        SECRET,\n        { expiresIn: 129600 },\n    );\n    return token;\n};\n\n/**\n * Given a token, finds the associated user.\n */\nexport const getUserFromToken = async (token) => {\n    const user = await User.find({ token });\n    return user;\n};\n\n/**\n * Given a token, verifies that it is still valid.\n */\nexport const verifyToken = async (token) => {\n    try {\n        // In the future, we may need the other properties...\n        const { id, netid, iat, exp } = await jwt.verify(token, SECRET);\n        return { success: true, id };\n    } catch (e) {\n        return failureResponse;\n    }\n};\n\n/**\n * Given a ticket, authenticates it and returns the corresponding netid of the now-authenticated user.\n */\nexport const authenticateTicket = async (ticket) => {\n    try {\n        // validate our ticket against the CAS server\n        const url = `${config.CASValidateURL}?ticket=${ticket}&service=${SERVICE_URL}`;\n\n        // First validate ticket against CAS, get a data object back\n        const { data } = await axios.get(url);\n\n        // Parse returned XML data with xml2js parser\n        return parser.parseStringPromise(data).then(\n            (parsedResponse) => {\n                const { serviceResponse } = parsedResponse;\n                // This object contains the information as to whether this login was successful\n                const authSucceded = serviceResponse.authenticationSuccess;\n                if (authSucceded) {\n                    // authSucceded.user is the netid\n                    const netid = authSucceded.user;\n                    return { success: true, netid };\n                }\n                return failureResponse;\n            },\n            (err) => {\n                console.log(\"Error!\");\n                return failureResponse;\n            },\n        );\n    } catch (e) {\n        console.log(\"Something went wrong.\");\n        return failureResponse;\n    }\n};\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/AuthSchema.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/AuthSchema.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/AuthSchema.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/AuthSchema.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
        "sourceFileName": "AuthSchema.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AuthMutation = exports.AuthQuery = undefined;\n\nvar _models = require(\"../models\");\n\nconst AuthQuery = {\n  verifyUser: _models.UserTC.getResolver(\"verify\")\n};\nconst AuthMutation = {\n  authenticateUser: _models.UserTC.getResolver(\"authenticate\")\n};\nexports.AuthQuery = AuthQuery;\nexports.AuthMutation = AuthMutation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkF1dGhTY2hlbWEuanMiXSwibmFtZXMiOlsiQXV0aFF1ZXJ5IiwidmVyaWZ5VXNlciIsIlVzZXJUQyIsImdldFJlc29sdmVyIiwiQXV0aE11dGF0aW9uIiwiYXV0aGVudGljYXRlVXNlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLFNBQVMsR0FBRztBQUNkQyxFQUFBQSxVQUFVLEVBQUVDLGVBQU9DLFdBQVAsQ0FBbUIsUUFBbkI7QUFERSxDQUFsQjtBQUlBLE1BQU1DLFlBQVksR0FBRztBQUNqQkMsRUFBQUEsZ0JBQWdCLEVBQUVILGVBQU9DLFdBQVAsQ0FBbUIsY0FBbkI7QUFERCxDQUFyQjtRQUlTSCxTLEdBQUFBLFM7UUFBV0ksWSxHQUFBQSxZIiwic291cmNlUm9vdCI6Ii9Vc2Vycy92c29uZy9Eb3dubG9hZHMvZnVuLWNvZGUvSGVkd2lnVW5pZmllZC9hcGkvc2NoZW1hLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXIsIFVzZXJUQyB9IGZyb20gXCIuLi9tb2RlbHNcIjtcblxuY29uc3QgQXV0aFF1ZXJ5ID0ge1xuICAgIHZlcmlmeVVzZXI6IFVzZXJUQy5nZXRSZXNvbHZlcihcInZlcmlmeVwiKSxcbn07XG5cbmNvbnN0IEF1dGhNdXRhdGlvbiA9IHtcbiAgICBhdXRoZW50aWNhdGVVc2VyOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoXCJhdXRoZW50aWNhdGVcIiksXG59O1xuXG5leHBvcnQgeyBBdXRoUXVlcnksIEF1dGhNdXRhdGlvbiB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "AuthSchema.js"
      ],
      "names": [
        "AuthQuery",
        "verifyUser",
        "UserTC",
        "getResolver",
        "AuthMutation",
        "authenticateUser"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,SAAS,GAAG;AACdC,EAAAA,UAAU,EAAEC,eAAOC,WAAP,CAAmB,QAAnB;AADE,CAAlB;AAIA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,gBAAgB,EAAEH,eAAOC,WAAP,CAAmB,cAAnB;AADD,CAArB;QAISH,S,GAAAA,S;QAAWI,Y,GAAAA,Y",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "sourcesContent": [
        "import { User, UserTC } from \"../models\";\n\nconst AuthQuery = {\n    verifyUser: UserTC.getResolver(\"verify\"),\n};\n\nconst AuthMutation = {\n    authenticateUser: UserTC.getResolver(\"authenticate\"),\n};\n\nexport { AuthQuery, AuthMutation };\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/LocationSchema.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/LocationSchema.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/LocationSchema.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/LocationSchema.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
        "sourceFileName": "LocationSchema.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LocationMutation = exports.LocationQuery = undefined;\n\nvar _models = require(\"../models\");\n\nconst LocationQuery = {\n  locationOne: _models.LocationTC.getResolver(\"findOne\")\n};\nconst LocationMutation = {\n  locationCreateOne: _models.LocationTC.getResolver(\"createOne\")\n};\nexports.LocationQuery = LocationQuery;\nexports.LocationMutation = LocationMutation;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvY2F0aW9uU2NoZW1hLmpzIl0sIm5hbWVzIjpbIkxvY2F0aW9uUXVlcnkiLCJsb2NhdGlvbk9uZSIsIkxvY2F0aW9uVEMiLCJnZXRSZXNvbHZlciIsIkxvY2F0aW9uTXV0YXRpb24iLCJsb2NhdGlvbkNyZWF0ZU9uZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRztBQUNsQkMsRUFBQUEsV0FBVyxFQUFFQyxtQkFBV0MsV0FBWCxDQUF1QixTQUF2QjtBQURLLENBQXRCO0FBSUEsTUFBTUMsZ0JBQWdCLEdBQUc7QUFDckJDLEVBQUFBLGlCQUFpQixFQUFFSCxtQkFBV0MsV0FBWCxDQUF1QixXQUF2QjtBQURFLENBQXpCO1FBSVNILGEsR0FBQUEsYTtRQUFlSSxnQixHQUFBQSxnQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdnNvbmcvRG93bmxvYWRzL2Z1bi1jb2RlL0hlZHdpZ1VuaWZpZWQvYXBpL3NjaGVtYS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMb2NhdGlvbiwgTG9jYXRpb25UQyB9IGZyb20gXCIuLi9tb2RlbHNcIjtcblxuY29uc3QgTG9jYXRpb25RdWVyeSA9IHtcbiAgICBsb2NhdGlvbk9uZTogTG9jYXRpb25UQy5nZXRSZXNvbHZlcihcImZpbmRPbmVcIiksXG59O1xuXG5jb25zdCBMb2NhdGlvbk11dGF0aW9uID0ge1xuICAgIGxvY2F0aW9uQ3JlYXRlT25lOiBMb2NhdGlvblRDLmdldFJlc29sdmVyKFwiY3JlYXRlT25lXCIpLFxufTtcblxuZXhwb3J0IHsgTG9jYXRpb25RdWVyeSwgTG9jYXRpb25NdXRhdGlvbiB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "LocationSchema.js"
      ],
      "names": [
        "LocationQuery",
        "locationOne",
        "LocationTC",
        "getResolver",
        "LocationMutation",
        "locationCreateOne"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA,MAAMA,aAAa,GAAG;AAClBC,EAAAA,WAAW,EAAEC,mBAAWC,WAAX,CAAuB,SAAvB;AADK,CAAtB;AAIA,MAAMC,gBAAgB,GAAG;AACrBC,EAAAA,iBAAiB,EAAEH,mBAAWC,WAAX,CAAuB,WAAvB;AADE,CAAzB;QAISH,a,GAAAA,a;QAAeI,gB,GAAAA,gB",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "sourcesContent": [
        "import { Location, LocationTC } from \"../models\";\n\nconst LocationQuery = {\n    locationOne: LocationTC.getResolver(\"findOne\"),\n};\n\nconst LocationMutation = {\n    locationCreateOne: LocationTC.getResolver(\"createOne\"),\n};\n\nexport { LocationQuery, LocationMutation };\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595200291743
  },
  "{\"sourceRoot\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"filename\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/VendorSchema.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api\",\"plugins\":[{\"key\":\"/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0\",\"visitor\":{\"Program\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":{},\"_verified\":{},\"ThisExpression\":{\"enter\":[null]}},\"options\":{\"loose\":false}}],\"presets\":[]}:7.10.5": {
    "metadata": {},
    "options": {
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/VendorSchema.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/vsong/Downloads/fun-code/HedwigUnified/api",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/node_modules/babel-preset-env/lib/index.js$0",
          "visitor": {
            "Program": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": {},
            "_verified": {},
            "ThisExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/VendorSchema.js",
        "plugins": []
      },
      "generatorOpts": {
        "filename": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/VendorSchema.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
        "sourceFileName": "VendorSchema.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VendorSubscription = exports.VendorMutation = exports.VendorQuery = undefined;\n\nvar _apolloServerExpress = require(\"apollo-server-express\");\n\nvar _models = require(\"../models\");\n\nvar _pubsub = require(\"../pubsub\");\n\n// import { pubsub } from '../pubsub';\n\n/**\n * Custom GraphQL-only fields (essentially additional fields on top of our existing Mongoose-defined Schema)\n */\n_models.VendorTC.addFields({\n  // products: [ProductTC],\n  activeOrders: [_models.OrderTC],\n  completedOrders: [_models.OrderTC],\n  cancelledOrders: [_models.OrderTC]\n});\n/**\n * Relations (necessary for any fields that link to other types in the schema)\n * https://graphql-compose.github.io/docs/plugins/plugin-mongoose.html#how-to-build-nesting-relations\n */\n// Creates relation to user schema\n\n\n_models.VendorTC.addRelation(\"team\", {\n  resolver: () => _models.UserTC.getResolver(\"findByIds\"),\n  prepareArgs: {\n    _ids: source => source.team\n  },\n  projection: {\n    team: 1\n  }\n}); // Creates relation to locations schema\n\n\n_models.VendorTC.addRelation(\"locations\", {\n  resolver: () => _models.LocationTC.getResolver(\"findByIds\"),\n  prepareArgs: {\n    _ids: source => source.locations\n  },\n  projection: {\n    locations: 1\n  }\n}); // Creates relation to product schema\n// VendorTC.addRelation(\"products\", {\n//     resolver: () => EntreeTC.getResolver(\"findMany\"),\n//     args: { filter: EntreeTC.getInputTypeComposer() },\n//     prepareArgs: {\n//         filter: (source) => ({\n//             vendor: source._id, // Uses the vendor _id\n//         }),\n//     },\n//     projection: { products: 1 },\n// });\n// Creates relation to order schema; grabs all ACTIVE orders\n\n\n_models.VendorTC.addRelation(\"activeOrders\", {\n  resolver: () => _models.OrderTC.getResolver(\"findManyByVendor\"),\n  prepareArgs: {\n    _id: source => source._id,\n    fulfillmentStates: source => [\"Placed\", \"Preparing\"]\n  },\n  projection: {\n    activeOrders: 1\n  }\n}); // Creates relation to order schema; grabs all COMPLETED orders\n\n\n_models.VendorTC.addRelation(\"completedOrders\", {\n  resolver: () => _models.OrderTC.getResolver(\"findManyByVendor\"),\n  prepareArgs: {\n    _id: source => source._id,\n    fulfillmentStates: source => [\"Ready\"]\n  },\n  projection: {\n    completedOrders: 1\n  }\n}); // Creates relation to order schema; grabs all CANCELLED orders\n\n\n_models.VendorTC.addRelation(\"cancelledOrders\", {\n  resolver: () => _models.OrderTC.getResolver(\"findManyByVendor\"),\n  prepareArgs: {\n    _id: source => source._id,\n    fulfillmentStates: source => [\"Cancelled\"]\n  },\n  projection: {\n    cancelledOrders: 1\n  }\n});\n/**\n * Custom Resolvers\n */\n\n/**\n * Used to update a vendor's hours\n * Can either add or remove an interval from their operating hours\n */\n\n\n_models.VendorTC.addResolver({\n  name: \"vendorUpdateHourSet\",\n  type: _models.VendorTC,\n  // day is an enum, so we want to get its enum from the model directly\n  args: {\n    id: \"ID!\",\n    push: \"Boolean\",\n    start: \"Int!\",\n    end: \"Int!\",\n    day: _models.VendorTC.getFieldTC(\"hours\").getFieldType(\"day\")\n  },\n  resolve: async ({\n    source,\n    args,\n    context,\n    info\n  }) => {\n    // This determines whether we add or remove from the array\n    const operation = args.push ? \"$addToSet\" : \"$pull\"; // Setup update based on operation\n\n    const update = {};\n    update[operation] = {\n      hours: {\n        start: args.start,\n        end: args.end,\n        day: args.day\n      }\n    }; // Execute update\n\n    const vendor = await _models.Vendor.updateOne({\n      _id: args.id\n    }, // find Vendor by id\n    update);\n    if (!vendor) return null;\n    return _models.Vendor.findById(args.id); // Finally return the vendor object\n  }\n}); // Middleware to ensure that error is thrown when vendor isn't found.\n\n\nconst noVendorError = async (resolve, source, args, context, info) => {\n  const res = await resolve(source, args, context, info);\n\n  if (res === null) {\n    throw new _apolloServerExpress.ApolloError(\"Vendor doesn't exist!\", \"NO_VENDOR\");\n  }\n\n  return res;\n};\n\nconst VendorQuery = {\n  vendorOne: _models.VendorTC.getResolver(\"findOne\").withMiddlewares([noVendorError]),\n  vendorMany: _models.VendorTC.getResolver(\"findMany\")\n};\nconst VendorMutation = {\n  vendorCreateOne: _models.VendorTC.getResolver(\"createOne\"),\n  vendorAddHourSet: _models.VendorTC.getResolver(\"vendorUpdateHourSet\").wrapResolve(next => rp => {\n    rp.args.push = true;\n    return next(rp);\n  }),\n  vendorRemoveHourSet: _models.VendorTC.getResolver(\"vendorUpdateHourSet\").wrapResolve(next => rp => {\n    rp.args.push = false;\n    return next(rp);\n  }),\n  vendorUpdateOne: _models.VendorTC.getResolver(\"updateOne\")\n}; // Need a custom subscription resolver: https://github.com/graphql-compose/graphql-compose-subscription-boilerplate/blob/master/src/schema/index.js\n\nconst VendorSubscription = {\n  // We want to subscribe to whenever an order is added or changes (such as fulfillment status changes)\n  orderChanged: {\n    // \"type\" field has to be a TypeComposer, not just a string.\n    type: _models.OrderTC,\n    args: {\n      vendor: \"ID!\"\n    },\n\n    /**\n     * This is important: graphql-compose returns \"record\" and \"recordId\" as the top level parts of a payload; like so:\n     * payload: {\n     *  record: {},\n     *  recordId: \"\"\n     * }\n     * Thus, the object we need (the new order) is INSIDE the .record portion\n     */\n    resolve: payload => payload.record ? payload.record : payload,\n    // withFilter wrapper https://www.apollographql.com/docs/graphql-subscriptions/setup/#filter-subscriptions\n    subscribe: (0, _apolloServerExpress.withFilter)(() => _pubsub.pubsub.asyncIterator([\"ORDER_ADDED\", \"ORDER_UPDATED\"]), (payload, variables) => {\n      return payload.record.vendor == variables.vendor;\n    })\n  }\n};\nexports.VendorQuery = VendorQuery;\nexports.VendorMutation = VendorMutation;\nexports.VendorSubscription = VendorSubscription;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZlbmRvclNjaGVtYS5qcyJdLCJuYW1lcyI6WyJWZW5kb3JUQyIsImFkZEZpZWxkcyIsImFjdGl2ZU9yZGVycyIsIk9yZGVyVEMiLCJjb21wbGV0ZWRPcmRlcnMiLCJjYW5jZWxsZWRPcmRlcnMiLCJhZGRSZWxhdGlvbiIsInJlc29sdmVyIiwiVXNlclRDIiwiZ2V0UmVzb2x2ZXIiLCJwcmVwYXJlQXJncyIsIl9pZHMiLCJzb3VyY2UiLCJ0ZWFtIiwicHJvamVjdGlvbiIsIkxvY2F0aW9uVEMiLCJsb2NhdGlvbnMiLCJfaWQiLCJmdWxmaWxsbWVudFN0YXRlcyIsImFkZFJlc29sdmVyIiwibmFtZSIsInR5cGUiLCJhcmdzIiwiaWQiLCJwdXNoIiwic3RhcnQiLCJlbmQiLCJkYXkiLCJnZXRGaWVsZFRDIiwiZ2V0RmllbGRUeXBlIiwicmVzb2x2ZSIsImNvbnRleHQiLCJpbmZvIiwib3BlcmF0aW9uIiwidXBkYXRlIiwiaG91cnMiLCJ2ZW5kb3IiLCJWZW5kb3IiLCJ1cGRhdGVPbmUiLCJmaW5kQnlJZCIsIm5vVmVuZG9yRXJyb3IiLCJyZXMiLCJBcG9sbG9FcnJvciIsIlZlbmRvclF1ZXJ5IiwidmVuZG9yT25lIiwid2l0aE1pZGRsZXdhcmVzIiwidmVuZG9yTWFueSIsIlZlbmRvck11dGF0aW9uIiwidmVuZG9yQ3JlYXRlT25lIiwidmVuZG9yQWRkSG91clNldCIsIndyYXBSZXNvbHZlIiwibmV4dCIsInJwIiwidmVuZG9yUmVtb3ZlSG91clNldCIsInZlbmRvclVwZGF0ZU9uZSIsIlZlbmRvclN1YnNjcmlwdGlvbiIsIm9yZGVyQ2hhbmdlZCIsInBheWxvYWQiLCJyZWNvcmQiLCJzdWJzY3JpYmUiLCJwdWJzdWIiLCJhc3luY0l0ZXJhdG9yIiwidmFyaWFibGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBVUE7O0FBREE7O0FBR0E7OztBQUlBQSxpQkFBU0MsU0FBVCxDQUFtQjtBQUNmO0FBQ0FDLEVBQUFBLFlBQVksRUFBRSxDQUFD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QUFDQW5DLElBQUFBLElBQUksRUFBRWxCLGVBRkk7QUFHVm1CLElBQUFBLElBQUksRUFBRTtBQUFFYyxNQUFBQSxNQUFNLEVBQUU7QUFBVixLQUhJOztBQUlWOzs7Ozs7OztBQVFBTixJQUFBQSxPQUFPLEVBQUcyQixPQUFELElBQWNBLE9BQU8sQ0FBQ0MsTUFBUixHQUFpQkQsT0FBTyxDQUFDQyxNQUF6QixHQUFrQ0QsT0FaL0M7QUFhVjtBQUNBRSxJQUFBQSxTQUFTLEVBQUUscUNBQ1AsTUFBTUMsZUFBT0MsYUFBUCxDQUFxQixDQUFDLGFBQUQsRUFBZ0IsZUFBaEIsQ0FBckIsQ0FEQyxFQUVQLENBQUNKLE9BQUQsRUFBVUssU0FBVixLQUF3QjtBQUNwQixhQUFPTCxPQUFPLENBQUNDLE1BQVIsQ0FBZXRCLE1BQWYsSUFBeUIwQixTQUFTLENBQUMxQixNQUExQztBQUNILEtBSk07QUFkRDtBQUZTLENBQTNCO1FBeUJTTyxXLEdBQUFBLFc7UUFBYUksYyxHQUFBQSxjO1FBQWdCUSxrQixHQUFBQSxrQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdnNvbmcvRG93bmxvYWRzL2Z1bi1jb2RlL0hlZHdpZ1VuaWZpZWQvYXBpL3NjaGVtYS8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3aXRoRmlsdGVyLCBBcG9sbG9FcnJvciB9IGZyb20gXCJhcG9sbG8tc2VydmVyLWV4cHJlc3NcIjtcbmltcG9ydCB7XG4gICAgVmVuZG9yLFxuICAgIFZlbmRvclRDLFxuICAgIE9yZGVyVEMsXG4gICAgT3JkZXIsXG4gICAgVXNlclRDLFxuICAgIExvY2F0aW9uVEMsXG4gICAgRW50cmVlVEMsXG59IGZyb20gXCIuLi9tb2RlbHNcIjtcbi8vIGltcG9ydCB7IHB1YnN1YiB9IGZyb20gJy4uL3B1YnN1Yic7XG5pbXBvcnQgeyBwdWJzdWIgfSBmcm9tIFwiLi4vcHVic3ViXCI7XG5cbi8qKlxuICogQ3VzdG9tIEdyYXBoUUwtb25seSBmaWVsZHMgKGVzc2VudGlhbGx5IGFkZGl0aW9uYWwgZmllbGRzIG9uIHRvcCBvZiBvdXIgZXhpc3RpbmcgTW9uZ29vc2UtZGVmaW5lZCBTY2hlbWEpXG4gKi9cblxuVmVuZG9yVEMuYWRkRmllbGRzKHtcbiAgICAvLyBwcm9kdWN0czogW1Byb2R1Y3RUQ10sXG4gICAgYWN0aXZlT3JkZXJzOiBbT3JkZXJUQ10sXG4gICAgY29tcGxldGVkT3JkZXJzOiBbT3JkZXJUQ10sXG4gICAgY2FuY2VsbGVkT3JkZXJzOiBbT3JkZXJUQ10sXG59KTtcblxuLyoqXG4gKiBSZWxhdGlvbnMgKG5lY2Vzc2FyeSBmb3IgYW55IGZpZWxkcyB0aGF0IGxpbmsgdG8gb3RoZXIgdHlwZXMgaW4gdGhlIHNjaGVtYSlcbiAqIGh0dHBzOi8vZ3JhcGhxbC1jb21wb3NlLmdpdGh1Yi5pby9kb2NzL3BsdWdpbnMvcGx1Z2luLW1vbmdvb3NlLmh0bWwjaG93LXRvLWJ1aWxkLW5lc3RpbmctcmVsYXRpb25zXG4gKi9cblxuLy8gQ3JlYXRlcyByZWxhdGlvbiB0byB1c2VyIHNjaGVtYVxuVmVuZG9yVEMuYWRkUmVsYXRpb24oXCJ0ZWFtXCIsIHtcbiAgICByZXNvbHZlcjogKCkgPT4gVXNlclRDLmdldFJlc29sdmVyKFwiZmluZEJ5SWRzXCIpLFxuICAgIHByZXBhcmVBcmdzOiB7XG4gICAgICAgIF9pZHM6IChzb3VyY2UpID0+IHNvdXJjZS50ZWFtLFxuICAgIH0sXG4gICAgcHJvamVjdGlvbjogeyB0ZWFtOiAxIH0sXG59KTtcblxuLy8gQ3JlYXRlcyByZWxhdGlvbiB0byBsb2NhdGlvbnMgc2NoZW1hXG5WZW5kb3JUQy5hZGRSZWxhdGlvbihcImxvY2F0aW9uc1wiLCB7XG4gICAgcmVzb2x2ZXI6ICgpID0+IExvY2F0aW9uVEMuZ2V0UmVzb2x2ZXIoXCJmaW5kQnlJZHNcIiksXG4gICAgcHJlcGFyZUFyZ3M6IHtcbiAgICAgICAgX2lkczogKHNvdXJjZSkgPT4gc291cmNlLmxvY2F0aW9ucyxcbiAgICB9LFxuICAgIHByb2plY3Rpb246IHsgbG9jYXRpb25zOiAxIH0sXG59KTtcblxuLy8gQ3JlYXRlcyByZWxhdGlvbiB0byBwcm9kdWN0IHNjaGVtYVxuLy8gVmVuZG9yVEMuYWRkUmVsYXRpb24oXCJwcm9kdWN0c1wiLCB7XG4vLyAgICAgcmVzb2x2ZXI6ICgpID0+IEVudHJlZVRDLmdldFJlc29sdmVyKFwiZmluZE1hbnlcIiksXG4vLyAgICAgYXJnczogeyBmaWx0ZXI6IEVudHJlZVRDLmdldElucHV0VHlwZUNvbXBvc2VyKCkgfSxcbi8vICAgICBwcmVwYXJlQXJnczoge1xuLy8gICAgICAgICBmaWx0ZXI6IChzb3VyY2UpID0+ICh7XG4vLyAgICAgICAgICAgICB2ZW5kb3I6IHNvdXJjZS5faWQsIC8vIFVzZXMgdGhlIHZlbmRvciBfaWRcbi8vICAgICAgICAgfSksXG4vLyAgICAgfSxcbi8vICAgICBwcm9qZWN0aW9uOiB7IHByb2R1Y3RzOiAxIH0sXG4vLyB9KTtcblxuLy8gQ3JlYXRlcyByZWxhdGlvbiB0byBvcmRlciBzY2hlbWE7IGdyYWJzIGFsbCBBQ1RJVkUgb3JkZXJzXG5WZW5kb3JUQy5hZGRSZWxhdGlvbihcImFjdGl2ZU9yZGVyc1wiLCB7XG4gICAgcmVzb2x2ZXI6ICgpID0+IE9yZGVyVEMuZ2V0UmVzb2x2ZXIoXCJmaW5kTWFueUJ5VmVuZG9yXCIpLFxuICAgIHByZXBhcmVBcmdzOiB7XG4gICAgICAgIF9pZDogKHNvdXJjZSkgPT4gc291cmNlLl9pZCxcbiAgICAgICAgZnVsZmlsbG1lbnRTdGF0ZXM6IChzb3VyY2UpID0+IFtcIlBsYWNlZFwiLCBcIlByZXBhcmluZ1wiXSxcbiAgICB9LFxuICAgIHByb2plY3Rpb246IHsgYWN0aXZlT3JkZXJzOiAxIH0sXG59KTtcblxuLy8gQ3JlYXRlcyByZWxhdGlvbiB0byBvcmRlciBzY2hlbWE7IGdyYWJzIGFsbCBDT01QTEVURUQgb3JkZXJzXG5WZW5kb3JUQy5hZGRSZWxhdGlvbihcImNvbXBsZXRlZE9yZGVyc1wiLCB7XG4gICAgcmVzb2x2ZXI6ICgpID0+IE9yZGVyVEMuZ2V0UmVzb2x2ZXIoXCJmaW5kTWFueUJ5VmVuZG9yXCIpLFxuICAgIHByZXBhcmVBcmdzOiB7XG4gICAgICAgIF9pZDogKHNvdXJjZSkgPT4gc291cmNlLl9pZCxcbiAgICAgICAgZnVsZmlsbG1lbnRTdGF0ZXM6IChzb3VyY2UpID0+IFtcIlJlYWR5XCJdLFxuICAgIH0sXG4gICAgcHJvamVjdGlvbjogeyBjb21wbGV0ZWRPcmRlcnM6IDEgfSxcbn0pO1xuXG4vLyBDcmVhdGVzIHJlbGF0aW9uIHRvIG9yZGVyIHNjaGVtYTsgZ3JhYnMgYWxsIENBTkNFTExFRCBvcmRlcnNcblZlbmRvclRDLmFkZFJlbGF0aW9uKFwiY2FuY2VsbGVkT3JkZXJzXCIsIHtcbiAgICByZXNvbHZlcjogKCkgPT4gT3JkZXJUQy5nZXRSZXNvbHZlcihcImZpbmRNYW55QnlWZW5kb3JcIiksXG4gICAgcHJlcGFyZUFyZ3M6IHtcbiAgICAgICAgX2lkOiAoc291cmNlKSA9PiBzb3VyY2UuX2lkLFxuICAgICAgICBmdWxmaWxsbWVudFN0YXRlczogKHNvdXJjZSkgPT4gW1wiQ2FuY2VsbGVkXCJdLFxuICAgIH0sXG4gICAgcHJvamVjdGlvbjogeyBjYW5jZWxsZWRPcmRlcnM6IDEgfSxcbn0pO1xuXG4vKipcbiAqIEN1c3RvbSBSZXNvbHZlcnNcbiAqL1xuXG4vKipcbiAqIFVzZWQgdG8gdXBkYXRlIGEgdmVuZG9yJ3MgaG91cnNcbiAqIENhbiBlaXRoZXIgYWRkIG9yIHJlbW92ZSBhbiBpbnRlcnZhbCBmcm9tIHRoZWlyIG9wZXJhdGluZyBob3Vyc1xuICovXG5WZW5kb3JUQy5hZGRSZXNvbHZlcih7XG4gICAgbmFtZTogXCJ2ZW5kb3JVcGRhdGVIb3VyU2V0XCIsXG4gICAgdHlwZTogVmVuZG9yVEMsXG4gICAgLy8gZGF5IGlzIGFuIGVudW0sIHNvIHdlIHdhbnQgdG8gZ2V0IGl0cyBlbnVtIGZyb20gdGhlIG1vZGVsIGRpcmVjdGx5XG4gICAgYXJnczoge1xuICAgICAgICBpZDogXCJJRCFcIixcbiAgICAgICAgcHVzaDogXCJCb29sZWFuXCIsXG4gICAgICAgIHN0YXJ0OiBcIkludCFcIixcbiAgICAgICAgZW5kOiBcIkludCFcIixcbiAgICAgICAgZGF5OiBWZW5kb3JUQy5nZXRGaWVsZFRDKFwiaG91cnNcIikuZ2V0RmllbGRUeXBlKFwiZGF5XCIpLFxuICAgIH0sXG4gICAgcmVzb2x2ZTogYXN5bmMgKHsgc291cmNlLCBhcmdzLCBjb250ZXh0LCBpbmZvIH0pID0+IHtcbiAgICAgICAgLy8gVGhpcyBkZXRlcm1pbmVzIHdoZXRoZXIgd2UgYWRkIG9yIHJlbW92ZSBmcm9tIHRoZSBhcnJheVxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBhcmdzLnB1c2ggPyBcIiRhZGRUb1NldFwiIDogXCIkcHVsbFwiO1xuICAgICAgICAvLyBTZXR1cCB1cGRhdGUgYmFzZWQgb24gb3BlcmF0aW9uXG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICAgICAgICB1cGRhdGVbb3BlcmF0aW9uXSA9IHtcbiAgICAgICAgICAgIGhvdXJzOiB7IHN0YXJ0OiBhcmdzLnN0YXJ0LCBlbmQ6IGFyZ3MuZW5kLCBkYXk6IGFyZ3MuZGF5IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIEV4ZWN1dGUgdXBkYXRlXG4gICAgICAgIGNvbnN0IHZlbmRvciA9IGF3YWl0IFZlbmRvci51cGRhdGVPbmUoXG4gICAgICAgICAgICB7IF9pZDogYXJncy5pZCB9LCAvLyBmaW5kIFZlbmRvciBieSBpZFxuICAgICAgICAgICAgdXBkYXRlLFxuICAgICAgICApO1xuICAgICAgICBpZiAoIXZlbmRvcikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBWZW5kb3IuZmluZEJ5SWQoYXJncy5pZCk7IC8vIEZpbmFsbHkgcmV0dXJuIHRoZSB2ZW5kb3Igb2JqZWN0XG4gICAgfSxcbn0pO1xuXG4vLyBNaWRkbGV3YXJlIHRvIGVuc3VyZSB0aGF0IGVycm9yIGlzIHRocm93biB3aGVuIHZlbmRvciBpc24ndCBmb3VuZC5cbmNvbnN0IG5vVmVuZG9yRXJyb3IgPSBhc3luYyAocmVzb2x2ZSwgc291cmNlLCBhcmdzLCBjb250ZXh0LCBpbmZvKSA9PiB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgcmVzb2x2ZShzb3VyY2UsIGFyZ3MsIGNvbnRleHQsIGluZm8pO1xuICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFwb2xsb0Vycm9yKFwiVmVuZG9yIGRvZXNuJ3QgZXhpc3QhXCIsIFwiTk9fVkVORE9SXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcblxuY29uc3QgVmVuZG9yUXVlcnkgPSB7XG4gICAgdmVuZG9yT25lOiBWZW5kb3JUQy5nZXRSZXNvbHZlcihcImZpbmRPbmVcIikud2l0aE1pZGRsZXdhcmVzKFtub1ZlbmRvckVycm9yXSksXG4gICAgdmVuZG9yTWFueTogVmVuZG9yVEMuZ2V0UmVzb2x2ZXIoXCJmaW5kTWFueVwiKSxcbn07XG5cbmNvbnN0IFZlbmRvck11dGF0aW9uID0ge1xuICAgIHZlbmRvckNyZWF0ZU9uZTogVmVuZG9yVEMuZ2V0UmVzb2x2ZXIoXCJjcmVhdGVPbmVcIiksXG4gICAgdmVuZG9yQWRkSG91clNldDogVmVuZG9yVEMuZ2V0UmVzb2x2ZXIoXCJ2ZW5kb3JVcGRhdGVIb3VyU2V0XCIpLndyYXBSZXNvbHZlKFxuICAgICAgICAobmV4dCkgPT4gKHJwKSA9PiB7XG4gICAgICAgICAgICBycC5hcmdzLnB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQocnApO1xuICAgICAgICB9LFxuICAgICksXG4gICAgdmVuZG9yUmVtb3ZlSG91clNldDogVmVuZG9yVEMuZ2V0UmVzb2x2ZXIoXG4gICAgICAgIFwidmVuZG9yVXBkYXRlSG91clNldFwiLFxuICAgICkud3JhcFJlc29sdmUoKG5leHQpID0+IChycCkgPT4ge1xuICAgICAgICBycC5hcmdzLnB1c2ggPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIG5leHQocnApO1xuICAgIH0pLFxuICAgIHZlbmRvclVwZGF0ZU9uZTogVmVuZG9yVEMuZ2V0UmVzb2x2ZXIoXCJ1cGRhdGVPbmVcIiksXG59O1xuXG4vLyBOZWVkIGEgY3VzdG9tIHN1YnNjcmlwdGlvbiByZXNvbHZlcjogaHR0cHM6Ly9naXRodWIuY29tL2dyYXBocWwtY29tcG9zZS9ncmFwaHFsLWNvbXBvc2Utc3Vic2NyaXB0aW9uLWJvaWxlcnBsYXRlL2Jsb2IvbWFzdGVyL3NyYy9zY2hlbWEvaW5kZXguanNcbmNvbnN0IFZlbmRvclN1YnNjcmlwdGlvbiA9IHtcbiAgICAvLyBXZSB3YW50IHRvIHN1YnNjcmliZSB0byB3aGVuZXZlciBhbiBvcmRlciBpcyBhZGRlZCBvciBjaGFuZ2VzIChzdWNoIGFzIGZ1bGZpbGxtZW50IHN0YXR1cyBjaGFuZ2VzKVxuICAgIG9yZGVyQ2hhbmdlZDoge1xuICAgICAgICAvLyBcInR5cGVcIiBmaWVsZCBoYXMgdG8gYmUgYSBUeXBlQ29tcG9zZXIsIG5vdCBqdXN0IGEgc3RyaW5nLlxuICAgICAgICB0eXBlOiBPcmRlclRDLFxuICAgICAgICBhcmdzOiB7IHZlbmRvcjogXCJJRCFcIiB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBpbXBvcnRhbnQ6IGdyYXBocWwtY29tcG9zZSByZXR1cm5zIFwicmVjb3JkXCIgYW5kIFwicmVjb3JkSWRcIiBhcyB0aGUgdG9wIGxldmVsIHBhcnRzIG9mIGEgcGF5bG9hZDsgbGlrZSBzbzpcbiAgICAgICAgICogcGF5bG9hZDoge1xuICAgICAgICAgKiAgcmVjb3JkOiB7fSxcbiAgICAgICAgICogIHJlY29yZElkOiBcIlwiXG4gICAgICAgICAqIH1cbiAgICAgICAgICogVGh1cywgdGhlIG9iamVjdCB3ZSBuZWVkICh0aGUgbmV3IG9yZGVyKSBpcyBJTlNJREUgdGhlIC5yZWNvcmQgcG9ydGlvblxuICAgICAgICAgKi9cbiAgICAgICAgcmVzb2x2ZTogKHBheWxvYWQpID0+IChwYXlsb2FkLnJlY29yZCA/IHBheWxvYWQucmVjb3JkIDogcGF5bG9hZCksXG4gICAgICAgIC8vIHdpdGhGaWx0ZXIgd3JhcHBlciBodHRwczovL3d3dy5hcG9sbG9ncmFwaHFsLmNvbS9kb2NzL2dyYXBocWwtc3Vic2NyaXB0aW9ucy9zZXR1cC8jZmlsdGVyLXN1YnNjcmlwdGlvbnNcbiAgICAgICAgc3Vic2NyaWJlOiB3aXRoRmlsdGVyKFxuICAgICAgICAgICAgKCkgPT4gcHVic3ViLmFzeW5jSXRlcmF0b3IoW1wiT1JERVJfQURERURcIiwgXCJPUkRFUl9VUERBVEVEXCJdKSxcbiAgICAgICAgICAgIChwYXlsb2FkLCB2YXJpYWJsZXMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZC5yZWNvcmQudmVuZG9yID09IHZhcmlhYmxlcy52ZW5kb3I7XG4gICAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgIH0sXG59O1xuXG5leHBvcnQgeyBWZW5kb3JRdWVyeSwgVmVuZG9yTXV0YXRpb24sIFZlbmRvclN1YnNjcmlwdGlvbiB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "VendorSchema.js"
      ],
      "names": [
        "VendorTC",
        "addFields",
        "activeOrders",
        "OrderTC",
        "completedOrders",
        "cancelledOrders",
        "addRelation",
        "resolver",
        "UserTC",
        "getResolver",
        "prepareArgs",
        "_ids",
        "source",
        "team",
        "projection",
        "LocationTC",
        "locations",
        "_id",
        "fulfillmentStates",
        "addResolver",
        "name",
        "type",
        "args",
        "id",
        "push",
        "start",
        "end",
        "day",
        "getFieldTC",
        "getFieldType",
        "resolve",
        "context",
        "info",
        "operation",
        "update",
        "hours",
        "vendor",
        "Vendor",
        "updateOne",
        "findById",
        "noVendorError",
        "res",
        "ApolloError",
        "VendorQuery",
        "vendorOne",
        "withMiddlewares",
        "vendorMany",
        "VendorMutation",
        "vendorCreateOne",
        "vendorAddHourSet",
        "wrapResolve",
        "next",
        "rp",
        "vendorRemoveHourSet",
        "vendorUpdateOne",
        "VendorSubscription",
        "orderChanged",
        "payload",
        "record",
        "subscribe",
        "pubsub",
        "asyncIterator",
        "variables"
      ],
      "mappings": "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",
      "sourceRoot": "/Users/vsong/Downloads/fun-code/HedwigUnified/api/schema/",
      "sourcesContent": [
        "import { withFilter, ApolloError } from \"apollo-server-express\";\nimport {\n    Vendor,\n    VendorTC,\n    OrderTC,\n    Order,\n    UserTC,\n    LocationTC,\n    EntreeTC,\n} from \"../models\";\n// import { pubsub } from '../pubsub';\nimport { pubsub } from \"../pubsub\";\n\n/**\n * Custom GraphQL-only fields (essentially additional fields on top of our existing Mongoose-defined Schema)\n */\n\nVendorTC.addFields({\n    // products: [ProductTC],\n    activeOrders: [OrderTC],\n    completedOrders: [OrderTC],\n    cancelledOrders: [OrderTC],\n});\n\n/**\n * Relations (necessary for any fields that link to other types in the schema)\n * https://graphql-compose.github.io/docs/plugins/plugin-mongoose.html#how-to-build-nesting-relations\n */\n\n// Creates relation to user schema\nVendorTC.addRelation(\"team\", {\n    resolver: () => UserTC.getResolver(\"findByIds\"),\n    prepareArgs: {\n        _ids: (source) => source.team,\n    },\n    projection: { team: 1 },\n});\n\n// Creates relation to locations schema\nVendorTC.addRelation(\"locations\", {\n    resolver: () => LocationTC.getResolver(\"findByIds\"),\n    prepareArgs: {\n        _ids: (source) => source.locations,\n    },\n    projection: { locations: 1 },\n});\n\n// Creates relation to product schema\n// VendorTC.addRelation(\"products\", {\n//     resolver: () => EntreeTC.getResolver(\"findMany\"),\n//     args: { filter: EntreeTC.getInputTypeComposer() },\n//     prepareArgs: {\n//         filter: (source) => ({\n//             vendor: source._id, // Uses the vendor _id\n//         }),\n//     },\n//     projection: { products: 1 },\n// });\n\n// Creates relation to order schema; grabs all ACTIVE orders\nVendorTC.addRelation(\"activeOrders\", {\n    resolver: () => OrderTC.getResolver(\"findManyByVendor\"),\n    prepareArgs: {\n        _id: (source) => source._id,\n        fulfillmentStates: (source) => [\"Placed\", \"Preparing\"],\n    },\n    projection: { activeOrders: 1 },\n});\n\n// Creates relation to order schema; grabs all COMPLETED orders\nVendorTC.addRelation(\"completedOrders\", {\n    resolver: () => OrderTC.getResolver(\"findManyByVendor\"),\n    prepareArgs: {\n        _id: (source) => source._id,\n        fulfillmentStates: (source) => [\"Ready\"],\n    },\n    projection: { completedOrders: 1 },\n});\n\n// Creates relation to order schema; grabs all CANCELLED orders\nVendorTC.addRelation(\"cancelledOrders\", {\n    resolver: () => OrderTC.getResolver(\"findManyByVendor\"),\n    prepareArgs: {\n        _id: (source) => source._id,\n        fulfillmentStates: (source) => [\"Cancelled\"],\n    },\n    projection: { cancelledOrders: 1 },\n});\n\n/**\n * Custom Resolvers\n */\n\n/**\n * Used to update a vendor's hours\n * Can either add or remove an interval from their operating hours\n */\nVendorTC.addResolver({\n    name: \"vendorUpdateHourSet\",\n    type: VendorTC,\n    // day is an enum, so we want to get its enum from the model directly\n    args: {\n        id: \"ID!\",\n        push: \"Boolean\",\n        start: \"Int!\",\n        end: \"Int!\",\n        day: VendorTC.getFieldTC(\"hours\").getFieldType(\"day\"),\n    },\n    resolve: async ({ source, args, context, info }) => {\n        // This determines whether we add or remove from the array\n        const operation = args.push ? \"$addToSet\" : \"$pull\";\n        // Setup update based on operation\n        const update = {};\n        update[operation] = {\n            hours: { start: args.start, end: args.end, day: args.day },\n        };\n        // Execute update\n        const vendor = await Vendor.updateOne(\n            { _id: args.id }, // find Vendor by id\n            update,\n        );\n        if (!vendor) return null;\n        return Vendor.findById(args.id); // Finally return the vendor object\n    },\n});\n\n// Middleware to ensure that error is thrown when vendor isn't found.\nconst noVendorError = async (resolve, source, args, context, info) => {\n    const res = await resolve(source, args, context, info);\n    if (res === null) {\n        throw new ApolloError(\"Vendor doesn't exist!\", \"NO_VENDOR\");\n    }\n    return res;\n};\n\nconst VendorQuery = {\n    vendorOne: VendorTC.getResolver(\"findOne\").withMiddlewares([noVendorError]),\n    vendorMany: VendorTC.getResolver(\"findMany\"),\n};\n\nconst VendorMutation = {\n    vendorCreateOne: VendorTC.getResolver(\"createOne\"),\n    vendorAddHourSet: VendorTC.getResolver(\"vendorUpdateHourSet\").wrapResolve(\n        (next) => (rp) => {\n            rp.args.push = true;\n            return next(rp);\n        },\n    ),\n    vendorRemoveHourSet: VendorTC.getResolver(\n        \"vendorUpdateHourSet\",\n    ).wrapResolve((next) => (rp) => {\n        rp.args.push = false;\n        return next(rp);\n    }),\n    vendorUpdateOne: VendorTC.getResolver(\"updateOne\"),\n};\n\n// Need a custom subscription resolver: https://github.com/graphql-compose/graphql-compose-subscription-boilerplate/blob/master/src/schema/index.js\nconst VendorSubscription = {\n    // We want to subscribe to whenever an order is added or changes (such as fulfillment status changes)\n    orderChanged: {\n        // \"type\" field has to be a TypeComposer, not just a string.\n        type: OrderTC,\n        args: { vendor: \"ID!\" },\n        /**\n         * This is important: graphql-compose returns \"record\" and \"recordId\" as the top level parts of a payload; like so:\n         * payload: {\n         *  record: {},\n         *  recordId: \"\"\n         * }\n         * Thus, the object we need (the new order) is INSIDE the .record portion\n         */\n        resolve: (payload) => (payload.record ? payload.record : payload),\n        // withFilter wrapper https://www.apollographql.com/docs/graphql-subscriptions/setup/#filter-subscriptions\n        subscribe: withFilter(\n            () => pubsub.asyncIterator([\"ORDER_ADDED\", \"ORDER_UPDATED\"]),\n            (payload, variables) => {\n                return payload.record.vendor == variables.vendor;\n            },\n        ),\n    },\n};\n\nexport { VendorQuery, VendorMutation, VendorSubscription };\n"
      ]
    },
    "sourceType": "module",
    "mtime": 1595808939703
  }
}